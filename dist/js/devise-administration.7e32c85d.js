(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["devise-administration","devise-pages"],{3374:function(e,t,s){"use strict";s.r(t),t["default"]={inserted:function(e){var t=null,s=document.createElement("div");s.classList.add("dvs-blocker"),document.body.appendChild(s);var n=document.createElement("div");function i(){document.body.classList.remove("dvs-admin-open"),e.style.opacity=0,s.style.opacity=0,s.classList.remove("dvs-pointer-events-auto"),s.classList.add("dvs-pointer-events-none"),n.classList.remove("hidden"),setTimeout(function(){n.style.opacity=1,n.style.top="1px",n.style.left="1px",e.classList.add("hidden")},500),window.deviseSettings.$bus.$emit("devise-close-sidebar")}function r(){clearTimeout(t),document.body.classList.add("dvs-admin-open"),e.style.opacity=1,s.style.opacity=.75,s.classList.remove("dvs-pointer-events-none"),s.classList.add("dvs-pointer-events-auto"),n.style.opacity=0,n.style.top="-100px",n.style.left="-100px",setTimeout(function(){n.classList.add("hidden"),e.classList.remove("hidden")},500),window.deviseSettings.$bus.$emit("devise-open-sidebar")}n.classList.add("dvs-sidebar-hint"),n.style.opacity=0,n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" w="25" h="25" class="feather feather-power" style="margin:12px;"><path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line></svg>',document.body.appendChild(n),n.style.transition="500ms all ease-in-out",e.style.transition="500ms all",s.style.transition="800ms all",t=setTimeout(function(){i()},1500),e.addEventListener("mouseenter",r),n.addEventListener("click",r),s.addEventListener("click",i)}}},"5a0c":function(e,t,s){!function(t,s){e.exports=s()}(0,function(){"use strict";var e="millisecond",t="second",s="minute",n="hour",i="day",r="week",a="month",o="quarter",c="year",d=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=function(e,t,s){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(s)+e},v={s:u,z:function(e){var t=-e.utcOffset(),s=Math.abs(t),n=Math.floor(s/60),i=s%60;return(t<=0?"+":"-")+u(n,2,"0")+":"+u(i,2,"0")},m:function(e,t){var s=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(s,a),i=t-n<0,r=e.clone().add(s+(i?-1:1),a);return Number(-(s+(t-n)/(i?n-r:r-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(d){return{M:a,y:c,w:r,d:i,h:n,m:s,s:t,ms:e,Q:o}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h="en",m={};m[h]=f;var p=function(e){return e instanceof y},g=function(e,t,s){var n;if(!e)return h;if("string"==typeof e)m[e]&&(n=e),t&&(m[e]=t,n=e);else{var i=e.name;m[i]=e,n=i}return s||(h=n),n},b=function(e,t,s){if(p(e))return e.clone();var n=t?"string"==typeof t?{format:t,pl:s}:t:{};return n.date=e,new y(n)},w=v;w.l=g,w.i=p,w.w=function(e,t){return b(e,{locale:t.$L,utc:t.$u})};var y=function(){function u(e){this.$L=this.$L||g(e.locale,null,!0),this.parse(e)}var v=u.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,s=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(d);if(n)return s?new Date(Date.UTC(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)):new Date(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return w},v.isValid=function(){return!("Invalid Date"===this.$d.toString())},v.isSame=function(e,t){var s=b(e);return this.startOf(t)<=s&&s<=this.endOf(t)},v.isAfter=function(e,t){return b(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<b(e)},v.$g=function(e,t,s){return w.u(e)?this[t]:this.set(s,e)},v.year=function(e){return this.$g(e,"$y",c)},v.month=function(e){return this.$g(e,"$M",a)},v.day=function(e){return this.$g(e,"$W",i)},v.date=function(e){return this.$g(e,"$D","date")},v.hour=function(e){return this.$g(e,"$H",n)},v.minute=function(e){return this.$g(e,"$m",s)},v.second=function(e){return this.$g(e,"$s",t)},v.millisecond=function(t){return this.$g(t,"$ms",e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,o){var d=this,l=!!w.u(o)||o,u=w.p(e),v=function(e,t){var s=w.w(d.$u?Date.UTC(d.$y,t,e):new Date(d.$y,t,e),d);return l?s:s.endOf(i)},f=function(e,t){return w.w(d.toDate()[e].apply(d.toDate(),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),d)},h=this.$W,m=this.$M,p=this.$D,g="set"+(this.$u?"UTC":"");switch(u){case c:return l?v(1,0):v(31,11);case a:return l?v(1,m):v(0,m+1);case r:var b=this.$locale().weekStart||0,y=(h<b?h+7:h)-b;return v(l?p-y:p+(6-y),m);case i:case"date":return f(g+"Hours",0);case n:return f(g+"Minutes",1);case s:return f(g+"Seconds",2);case t:return f(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(r,o){var d,l=w.p(r),u="set"+(this.$u?"UTC":""),v=(d={},d[i]=u+"Date",d.date=u+"Date",d[a]=u+"Month",d[c]=u+"FullYear",d[n]=u+"Hours",d[s]=u+"Minutes",d[t]=u+"Seconds",d[e]=u+"Milliseconds",d)[l],f=l===i?this.$D+(o-this.$W):o;if(l===a||l===c){var h=this.clone().set("date",1);h.$d[v](f),h.init(),this.$d=h.set("date",Math.min(this.$D,h.daysInMonth())).toDate()}else v&&this.$d[v](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[w.p(e)]()},v.add=function(e,o){var d,l=this;e=Number(e);var u=w.p(o),v=function(t){var s=b(l);return w.w(s.date(s.date()+Math.round(t*e)),l)};if(u===a)return this.set(a,this.$M+e);if(u===c)return this.set(c,this.$y+e);if(u===i)return v(1);if(u===r)return v(7);var f=(d={},d[s]=6e4,d[n]=36e5,d[t]=1e3,d)[u]||1,h=this.valueOf()+e*f;return w.w(h,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var s=e||"YYYY-MM-DDTHH:mm:ssZ",n=w.z(this),i=this.$locale(),r=this.$H,a=this.$m,o=this.$M,c=i.weekdays,d=i.months,u=function(e,n,i,r){return e&&(e[n]||e(t,s))||i[n].substr(0,r)},v=function(e){return w.s(r%12||12,e,"0")},f=i.meridiem||function(e,t,s){var n=e<12?"AM":"PM";return s?n.toLowerCase():n},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:w.s(o+1,2,"0"),MMM:u(i.monthsShort,o,d,3),MMMM:d[o]||d(this,s),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:u(i.weekdaysMin,this.$W,c,2),ddd:u(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(r),HH:w.s(r,2,"0"),h:v(1),hh:v(2),a:f(r,a,!0),A:f(r,a,!1),m:String(a),mm:w.s(a,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:n};return s.replace(l,function(e,t){return t||h[e]||n.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(e,d,l){var u,v=w.p(d),f=b(e),h=6e4*(f.utcOffset()-this.utcOffset()),m=this-f,p=w.m(this,f);return p=(u={},u[c]=p/12,u[a]=p,u[o]=p/3,u[r]=(m-h)/6048e5,u[i]=(m-h)/864e5,u[n]=m/36e5,u[s]=m/6e4,u[t]=m/1e3,u)[v]||m,l?p:w.a(p)},v.daysInMonth=function(){return this.endOf(a).$D},v.$locale=function(){return m[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var s=this.clone();return s.$L=g(e,t,!0),s},v.clone=function(){return w.w(this.toDate(),this)},v.toDate=function(){return new Date(this.$d)},v.toJSON=function(){return this.toISOString()},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},u}();return b.prototype=y.prototype,b.extend=function(e,t){return e(t,y,b),b},b.locale=g,b.isDayjs=p,b.unix=function(e){return b(1e3*e)},b.en=m[h],b.Ls=m,b})},"66ed":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.currentStep?s("admin-container",{scopedSlots:e._u([{key:"message",fn:function(){return[s("div",{staticClass:"flex items-center"},[s("div",{staticClass:"dvs-cursor-pointer dvs-flex dvs-flex-col dvs-items-center",on:{click:e.back}},[s("arrow-left-circle-icon",{staticClass:"mb-1"}),s("span",{staticClass:"dvs-text-2xs dvs-uppercase"},[e._v("Back")])],1),s("div",{staticClass:"dvs-px-8",domProps:{innerHTML:e._s(e.currentStep.message)}})])]},proxy:!0},{key:"content",fn:function(){return[s("transition",{attrs:{name:"dvs-fade",mode:"out-in"}},[s(e.currentStep.component,{tag:"component",attrs:{step:e.currentStep,values:e.values},on:{done:e.done,cancel:e.cancel}})],1)]},proxy:!0}],null,!1,1268363295)}):e._e()},i=[],r=(s("ac6a"),s("7514"),{name:"DeviseWorkflow",components:{AdminContainer:function(){return Promise.resolve().then(s.bind(null,"987f"))},ArrowLeftCircleIcon:function(){return s.e("devise-icons").then(s.bind(null,"2f56"))},WorkflowMenu:function(){return Promise.resolve().then(s.bind(null,"8768"))},WorkflowSearch:function(){return Promise.resolve().then(s.bind(null,"704d"))}},props:{workflow:{type:Array,required:!0}},computed:{index:function(){return this.workflow.find(function(e){return e.index})},currentStep:function(){return this.workflowStack.slice(-1)[0]},values:function(){var e={};return this.workflowStack.forEach(function(t){e=Object.assign(e,t.value)}),e}},data:function(){return{workflowStack:[]}},mounted:function(){this.$route.params&&this.$route.params.workflowKey?this.jumpToStep(this.$route.params.workflowKey):this.index&&this.workflowStack.push(this.index)},methods:{done:function(e){this.workflowStack[this.workflowStack.length-1].value=e,this.loadStep()},cancel:function(){this.clearStack()},back:function(){this.workflowStack.length>1?(this.workflowStack.splice(-1,1),delete this.currentStep.value,window.deviseSettings.$bus.$emit("dvs-admin-container-content-changed")):this.$router.go(-1)},jumpToStep:function(e){var t=this.workflow.find(function(t){return t.key===e});this.$set(t,"jumpedTo",!0),this.$set(t,"jumpedToParams",this.$route.params),this.workflowStack.push(t)},loadStep:function(){var e=null;if(this.currentStep.end||this.currentStep.value.end)this.clearStack();else{var t=this.workflowStack[this.workflowStack.length-2],s="undefined"!==typeof this.currentStep.nextStep?this.currentStep:this.currentStep.value,n=s.nextStep;n?e=this.workflow.find(function(e){return e.key===n}):t&&t.value.stepAfterNext&&(e=this.workflow.find(function(e){return e.key===t.value.stepAfterNext})),e?(this.workflowStack.push(Object.assign({},e)),window.deviseSettings.$bus.$emit("dvs-admin-container-content-changed")):console.warn("There is no step registered as ".concat(n))}},clearStack:function(){this.workflowStack=[this.index],window.deviseSettings.$bus.$emit("dvs-admin-container-content-changed")}}}),a=r,o=s("2877"),c=Object(o["a"])(a,n,i,!1,null,null,null);t["default"]=c.exports},"704d":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"dvs-flex dvs-justify-center dvs-py-8 dvs-relative"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"dvs-bg-transparent dvs-border-b-2 dvs-px-12 dvs-py-2 dvs-text-admin-fg dvs-outline-none dvs-placeholder-admin-fg dvs-text-center",attrs:{type:"text",placeholder:"Type to begin searching"},domProps:{value:e.searchTerm},on:{input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),s("div",{staticClass:"dvs-cursor-pointer",class:{"dvs-opacity-50":""===e.searchTerm},on:{click:function(t){e.searchTerm=""}}},[s("x-icon")],1)]),s("ul",{staticClass:"dvs-list-reset"},e._l(e.autosuggest.data,function(t,n){return s("li",{key:n,staticClass:"dvs-bg-admin-secondary-bg dvs-text-admin-secondary-fg dvs-shadow hover:dvs-shadow-lg dvs-rounded dvs-my-4 dvs-p-4 dvs-cursor-pointer",on:{click:function(s){return e.selectSuggestion(t)}}},[s("div",{staticClass:"dvs-text-lg dvs-mb-2 dvs-font-light"},[e._v(e._s(t[e.mainLabelField]))]),s("ul",{staticClass:"dvs-list-reset dvs-flex"},e._l(e.subLabelFields,function(n,i){return s("li",{key:i,staticClass:"dvs-mr-4 dvs-text-xs dvs-leading-tight dvs-w-1/4 dvs-bg-admin-bg dvs-text-admin-fg dvs-rounded dvs-p-3 opacity-75"},[s("div",{staticClass:"dvs-uppercase dvs-text-xs"},[e._v(e._s(n.label))]),s("div",[e._v(e._s(e.format(n,t[n.field])))])])}),0)])}),0),""!==e.searchTerm&&e.autosuggest.data&&e.autosuggest.data.length<1?s("div",{staticClass:"dvs-text-center"},[e._v("\n    No search results found\n  ")]):e._e()])},i=[],r=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=s("2f62"),o=s("5a0c"),c=s.n(o);function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(s,!0).forEach(function(t){Object(r["a"])(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var u={name:"DeviseWorkflowSearch",components:{XIcon:function(){return s.e("devise-icons").then(s.bind(null,"1a4e"))}},props:{step:{type:Object,required:!0}},data:function(){return{searchDelay:1e3,searchTerm:"",autosuggest:{data:[]}}},computed:{options:function(){return this.step.options},mainLabelField:function(){return this.step.resultsDisplayFields[0].field},subLabelFields:function(){var e=JSON.parse(JSON.stringify(this.step.resultsDisplayFields));return e.shift(),e}},methods:l({},Object(a["b"])("devise",["searchGeneric"]),{requestSearch:function(e){var t=this;if(""!==e){var s=!0===this.step.app||"undefined"===typeof this.step.app||this.step.app,n={};n[this.step.searchPropertyName]=e,this.searchGeneric({config:{apiendpoint:this.step.apiendpoint,app:s},filters:n}).then(function(s){t.autosuggest=s.data,s.data.length<1&&window.deviseSettings.$bus.$emit("showMessage",{title:"No Suggestions Found",message:"We couldn't find any data with the term: \"".concat(e,'".')})})}else this.autosuggest=Object.assign({},{})},selectSuggestion:function(e){this.$emit("done",e)},format:function(e,t){return e.dateFormat?c()(t).format(e.dateFormat):t}}),watch:{searchTerm:function(e){this.requestSearch(e)}}},v=u,f=s("2877"),h=Object(f["a"])(v,n,i,!1,null,null,null);t["default"]=h.exports},"792d":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"admin-route-wrapper",staticClass:"dvs-ml-16 dvs-max-w-1/2 dvs-self-center dvs-shadow-lg dvs-bg-admin-bg dvs-text-admin-fg dvs-rounded dvs-pointer-events-auto",staticStyle:{"min-width":"400px"},attrs:{id:"dvs-admin-content-container"}},[s("vue-scrollbar",{staticClass:"dvs-max-h-screenpad "},[s("div",[s("div",[e.can("manage slices")?s("div",{staticClass:"dvs-pt-8 dvs-pb-16 dvs-relative"},[s("div",{staticClass:"dvs-absolute dvs-pin-t dvs-pin-r dvs-mt-4 dvs-mr-4"},[s("toggle",{attrs:{mini:!0,id:e.randomString(8)},on:{change:e.setDevMode}})],1),s("div",{staticClass:"dvs-p-8 dvs-pt-0"},[e.showTimeTravel?s("fieldset",{staticClass:"dvs-fieldset"},[s("label",[e._v("Preview Date Time")]),s("div",{staticClass:"dvs-flex"},[s("date-picker",{ref:"datepicker",staticClass:"dvs-mr-2",attrs:{settings:{date:!0,time:!0}},model:{value:e.timeTravelDate,callback:function(t){e.timeTravelDate=t},expression:"timeTravelDate"}}),s("button",{staticClass:"dvs-rounded dvs-btn dvs-btn-primary dvs-btn-sm dvs-flex dvs-justify-center dvs-items-center dvs-uppercase dvs-text-xs dvs-font-bold",on:{click:e.timeTravel}},[e._v("Go")])],1)]):s("fieldset",{staticClass:"dvs-fieldset"},[s("div",{staticClass:"flex flex-col items-stretch"},[s("label",[e._v("Page Version")]),s("select",{staticClass:"dvs-small dvs-bg-admin-bg dvs-text-admin-fg",on:{change:e.selectVersion}},[e._l(e.currentPage.versions,function(t){return s("option",{key:t.id,domProps:{value:t.id,selected:t.current}},[e._v("\n                    "+e._s(t.name)+"\n                    "),t.current?[e._v("(Currently Viewing)")]:e._e(),t.is_live?[e._v(" (Live)")]:e._e()],2)}),s("option",{attrs:{value:"timetravel"}},[e._v("Time Travel Preview")])],2)])])]),s("div",{staticClass:"dvs-px-8"},[s("fieldset",{staticClass:"dvs-fieldset"},[s("label",[e._v("Page Slices")])])]),s("div",{staticClass:"dvs-flex dvs-flex-col dvs-items-center"},[s("draggable",e._b({staticClass:"dvs-list-reset dvs-w-full dvs-px-4",attrs:{list:e.currentPageSlices,tag:"ul"}},"draggable",{group:{name:"g1"},animation:200,ghostClass:"dvs-ghost",handle:".handle",dragClass:"dvs-chosen-drag-slice",emptyInsertThreshold:10,removeCloneOnHide:!1},!1),[e._l(e.currentPageSlices,function(t){return[s("slice-editor",{key:e.randomString(8),attrs:{devise:t,depth:1},on:{opened:function(s){return e.openSlice(t)},addSlice:e.addSlice,editSlice:e.editSlice,removeSlice:e.removeSlice,copySlice:e.copySlice}})]})],2)],1),e.additionalPageSettings?s("div",{staticClass:"dvs-px-8"},[s("fieldset",{staticClass:"dvs-fieldset dvs-mb-2"},[s("label",{staticClass:"dvs-mb-2 dvs-cursor-pointer",on:{click:function(t){e.additionalSettingsOpen=!e.additionalSettingsOpen}}},[e._v("Additional Page Settings")])]),s("slice-editor-fields",{directives:[{name:"show",rawName:"v-show",value:e.additionalSettingsOpen,expression:"additionalSettingsOpen"}],attrs:{"the-fields":e.additionalPageSettings},model:{value:e.currentPage.settings.fields,callback:function(t){e.$set(e.currentPage.settings,"fields",t)},expression:"currentPage.settings.fields"}})],1):e._e(),s("div",{staticClass:"dvs-flex dvs-flex-col dvs-items-center dvs-px-8"},[!0===e.createSlice?s("manage-slice",{ref:"manageSlice",attrs:{mode:"inserting"},on:{addSlice:e.addSlice,cancel:function(t){e.createSlice=!1}}}):e._e(),s("div",{staticClass:"dvs-absolute dvs-pin-b dvs-pin-l dvs-pin-r dvs-mb-3 dvs-flex dvs-justify-around dvs-p-2 dvs-px-8"},[s("button",{staticClass:"dvs-btn dvs-btn-sm dvs-btn-primary dvs-w-3/5 dvs-mr-2",on:{click:function(t){return t.preventDefault(),e.requestSavePage()}}},[e.saving?s("refresh-icon",{staticClass:"dvs-mr-2 dvs-rotate-ccw",attrs:{w:"15",h:"15"}}):e._e(),e._v("Save Page\n              ")],1),s("button",{staticClass:"dvs-btn dvs-btn-sm dvs-flex dvs-justify-center dvs-items-center dvs-uppercase dvs-font-bold dvs-w-2/5 dvs-btn-secondary",on:{click:function(t){return t.preventDefault(),e.requestAddSlice(t)}}},[s("add-icon",{staticClass:"dvs-text-xl dvs-mr-1"}),e._v("Add Slice\n              ")],1)])],1)]):s("div",[s("div",{staticClass:"dvs-p-8"},[s("fieldset",{staticClass:"dvs-fieldset"},[s("div",{staticClass:"dvs-flex dvs-flex-col dvs-items-stretch"},[s("h4",[e._v("Administration")]),s("p",{staticClass:"dvs-mt-4"},[e._v("Use the icons along the left column to navigate.")])])])])])])])])],1)},i=[],r=(s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("6762"),s("2fdb"),s("7618")),a=(s("7514"),s("bd86")),o=s("2f62"),c=s("7e6e"),d=s("29ec");function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(s,!0).forEach(function(t){Object(a["a"])(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var v=s("72bf"),f={name:"PageEditor",data:function(){return{saving:!1,createSlice:!1,showTimeTravel:!1,timeTravelDate:null,additionalSettingsOpen:!1,queryString:v}},mounted:function(){var e=this;this.additionalPageSettings&&(this.currentPage.settings.fields=Object.assign({},this.additionalPageSettings,this.currentPage.settings.fields)),setTimeout(function(){e.$watch("currentPage",function(){window.onbeforeunload=function(){return"Changes you made may not be saved"}},{deep:!0})},1e3)},methods:u({},Object(o["b"])("devise",["savePage","setDevMode"]),{requestSavePage:function(){var e=this;this.saving=!0,this.savePage({page:this.currentPage}).then(function(e){480===e?window.deviseSettings.$bus.$emit("showForceSave"):window.onbeforeunload=null}).finally(function(){e.saving=!1})},toggleSlice:function(e){e.metadata.open?this.closeSlice(e):this.openSlice(e)},openSlice:function(e){var t=this;this.currentPage.slices.map(function(e){return t.closeSlice(e)}),this.$set(e.metadata,"open",!0)},closeSlice:function(e){this.$set(e.metadata,"open",!1)},requestAddSlice:function(){this.createSlice=!0},addSlice:function(e,t){if("undefined"!==typeof t){var s=this.sliceConfig(t);!0===s.has_child_slot&&("undefined"===typeof t.slices&&this.$set(t,"slices",[]),t.slices.push(e))}else!0===e.metadata.has_child_slot&&"undefined"===typeof e.slices&&this.$set(e,"slices",[]),this.currentPage.slices.push(e);this.createSlice=!1},findReferenceSliceInSlices:function(e,t){var s=this;return e.find(function(e){return e===t?e:e.slices?s.findReferenceSliceInSlices(e.slices,t):void 0})},editSlice:function(e,t){e.metadata.has_child_slot&&(e.slices=t.slices),this.currentPage.slices.splice(this.currentPage.slices.indexOf(t),1,e)},setSubSliceInstaceToZero:function(e){for(var t=0;t<e.length;t+=1)e[t].metadata.instance_id=0,"object"===Object(r["a"])(e[t].slices)&&e[t].slices.length>0&&(e[t].slices=this.setSubSliceInstaceToZero(e[t].slices));return e},copySlice:function(e,t){null===t&&(t=this.currentPage);var s=JSON.parse(JSON.stringify(e));s.metadata.instance_id=0,"object"===Object(r["a"])(s.slices)&&s.slices.length>0&&(s.slices=this.setSubSliceInstaceToZero(s.slices)),t.slices.push(s)},removeSlice:function(e,t){"undefined"===typeof t&&(t=this.currentPage),t.slices.splice(t.slices.indexOf(e),1)},selectVersion:function(e){if("timetravel"===e.target.value)return this.showTimeTravel=!0,!1;var t=parseInt(e.target.value,0),s=document.location.href,n="";return s.includes("version_id")?(n=s.replace(/(version_id=[0-9]*)/g,"version_id=".concat(t)),document.location.href=n,!0):(n=s,n=n.includes("?")?"".concat(n,"&"):"".concat(n,"?"),document.location.href="".concat(n,"version_id=").concat(t),!0)},timeTravel:function(){var e={time_travel_to:this.timeTravelDate},t=this.queryString.stringify(e);return document.location.search=t,!0}}),computed:u({},Object(o["c"])("devise",["currentPage","sliceConfig"]),{currentPageSlices:function(){return this.currentPage.slices},additionalPageSettings:function(){var e=this;if(window.deviseSettings.$config.additionalPageSettings){var t=window.deviseSettings.$config.additionalPageSettings.find(function(t){return t.siteId===e.currentPage.site_id});if(t)return t.fields}return!1}}),mixins:[d["a"]],components:{DatePicker:c["default"],AddIcon:function(){return s.e("devise-icons").then(s.bind(null,"be52"))},RefreshIcon:function(){return s.e("devise-icons").then(s.bind(null,"e862"))},draggable:function(){return s.e("devise-editors").then(s.t.bind(null,"310e",7))},ManageSlice:function(){return s.e("devise-editors").then(s.bind(null,"7589"))},SliceEditor:function(){return s.e("devise-editors").then(s.bind(null,"0fab"))},SliceEditorFields:function(){return s.e("devise-editors").then(s.bind(null,"20c2"))},Toggle:function(){return s.e("devise-utilities").then(s.bind(null,"aa28"))}}},h=f,m=s("2877"),p=Object(m["a"])(h,n,i,!1,null,null,null);t["default"]=p.exports},"7e6e":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("flat-pickr",{ref:"picker",staticClass:"w-full",attrs:{config:e.config,placeholder:e.placeholder},model:{value:e.localDateTime,callback:function(t){e.localDateTime=t},expression:"localDateTime"}})},i=[],r=s("5a0c"),a={data:function(){return{config:{noCalendar:!this.settings.date,enableTime:this.settings.time,onChange:this.updateValue}}},methods:{updateValue:function(e){e=this.formatValue(e),this.localDateTime=e},formatValue:function(e){return this.settings.format?r(e).format(this.settings.format):this.settings.date&&this.settings.time?r(e).format("YYYY-MM-DD HH:mm:ss"):this.settings.date&&!this.settings.time?r(e).format("YYYY-MM-DD"):!this.settings.date&&this.settings.time?r(e).format("HH:mm:ss"):null}},computed:{localDateTime:{get:function(){return this.value},set:function(e){this.$emit("input",e),this.$emit("change",e)}}},components:{flatPickr:function(){return s.e("devise-icons").then(s.t.bind(null,"c38f",7))}},props:["value","settings","placeholder"]},o=a,c=s("2877"),d=Object(c["a"])(o,n,i,!1,null,null,null);t["default"]=d.exports},8768:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.options,function(t,n){return s("div",{key:n,staticClass:"dvs-bg-white dvs-cursor-pointer dvs-text-admin-bg dvs-text-center dvs-py-3 dvs-px-8 dvs-my-4 dvs-shadow dvs-rounded",domProps:{innerHTML:e._s(t.label)},on:{click:function(s){return e.chooseOption(t)}}})}),0)},i=[],r={name:"DeviseWorkflowMenu",props:{step:{type:Object,required:!0}},computed:{options:function(){return this.step.options}},methods:{chooseOption:function(e){this.$emit("done",e)}}},a=r,o=s("2877"),c=Object(o["a"])(a,n,i,!1,null,null,null);t["default"]=c.exports},"987f":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dvs-relative dvs-w-full dvs-flex dvs-justify-center dvs-items-start dvs-mt-10"},[s("div",{staticClass:"dvs-z-10 dvs-bg-white dvs-text-admin-bg dvs-max-w-1/3 dvs-rounded-lg dvs-shadow-xl dvs-absolute dvs-pin-t dvs--mt-10 dvs-px-8 dvs-py-4 dvs-font-light dvs-text-center dvs-leading-tight dvs-text-sm dvs-pointer-events-auto"},[e._t("message")],2),s("div",{staticClass:"dvs-relative dvs-bg-admin-bg dvs-rounded dvs-shadow-lg dvs-max-w-3/4 dvs-min-w-1/2 dvs-py-10 dvs-pointer-events-auto"},[s("vue-scrollbar",{ref:"Scrollbar",staticClass:" dvs-px-10",style:{maxHeight:e.maxHeight+"px"}},[e._t("content")],2)],1)])},i=[],r={name:"DeviseAdminContainer",data:function(){return{maxHeight:300}},mounted:function(){var e=this,t=window.innerHeight;this.maxHeight=.7*t,window.deviseSettings.$bus.$on("dvs-admin-container-content-changed",function(){e.$nextTick(function(){"undefined"!==typeof e.$refs.Scrollbar&&(e.$refs.Scrollbar.calculateSize(),e.$refs.Scrollbar.scrollToY(0))})})}},a=r,o=s("2877"),c=Object(o["a"])(a,n,i,!1,null,null,null);t["default"]=c.exports},a31e:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"dvs-text-base"},[e.compact?s("span",{staticClass:"relative",on:{mouseenter:function(t){e.showHelp=!0},mouseleave:function(t){e.showHelp=!1}}},[s("help-circle-icon"),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showHelp,expression:"showHelp"}],staticClass:"dvs-roman dvs-normal-case dvs-font-normal dvs-text-xl dvs-fixed dvs-pin-b dvs-pin-l dvs-ml-4 dvs-mb-4 dvs-z-30 dvs-text-admin-highlight-fg dvs-bg-admin-highlight-bg dvs-p-8 dvs-rounded dvs-shadow-lg",staticStyle:{width:"400px"}},[s("p",[e._t("default")],2)])],1):s("div",{staticClass:"dvs-text-base dvs-flex dvs-rounded dvs-overflow-hidden",class:{"dvs-text-admin-fg dvs-bg-admin-bg":e.subtle,"dvs-text-admin-highlight-fg dvs-bg-admin-highlight-bg":!e.subtle}},[s("div",{staticClass:"dvs-text-admin-highlight-bg dvs-bg-admin-highlight-fg dvs-flex dvs-items-center dvs-justify-center dvs-px-4 dvs-text-xl "},[s("help-circle-icon")],1),s("div",{staticClass:" dvs-p-4 "},[s("p",[e._t("default")],2)])])])},i=[],r={name:"DeviseHelp",props:{compact:{type:Boolean,default:!1},subtle:{type:Boolean,default:!1}},data:function(){return{showHelp:!1}},components:{HelpCircleIcon:function(){return s.e("devise-icons").then(s.bind(null,"8087"))}}},a=r,o=s("2877"),c=Object(o["a"])(a,n,i,!1,null,null,null);t["default"]=c.exports},adf4:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("admin-container",{scopedSlots:e._u([{key:"message",fn:function(){return[e._v("\n    Welcome Back!"),s("br"),e._v("\n    What are you looking to work on?\n  ")]},proxy:!0},{key:"content",fn:function(){return[s("ul",{staticClass:"dvs-list-reset dvs-flex dvs-flex-wrap dvs-justify-between"},e._l(e.currentMenuItems,function(t,n){return s("li",{key:t.id,staticClass:"dvs-py-6 dvs-mr-8"},[t.routeName?s("div",{staticClass:"dvs-block dvs-switch-sm dvs-flex dvs-justify-between dvs-items-center dvs-cursor-pointer",on:{click:function(s){return e.goToPage(t.routeName,t.parameters)}}},[e._v(e._s(t.label))]):s("div",{staticClass:"dvs-uppercase dvs-text-xs dvs-text-admin-secondary-fg"},[e._v(e._s(t.label))]),t.children?s("ul",{staticClass:"dvs-list-reset dvs-text-sm"},e._l(t.children,function(t){return s("li",{key:t.id,staticClass:"dvs-pt-3"},[t.routeName?s("div",{staticClass:"dvs-block dvs-switch-sm dvs-flex dvs-justify-between dvs-items-center dvs-cursor-pointer",on:{click:function(s){return e.goToPage(t.routeName,t.parameters)}}},[e._v(e._s(t.label))]):e._e()])}),0):e._e()])}),0)]},proxy:!0}])})},i=[],r=(s("8e6e"),s("bd86")),a=(s("7f7f"),s("ac6a"),s("456d"),s("7618")),o=s("2f62");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(s,!0).forEach(function(t){Object(r["a"])(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var l={name:"DeviseIndex",components:{AdminContainer:function(){return Promise.resolve().then(s.bind(null,"987f"))}},methods:{findMenu:function(e){var t=e;"object"===Object(a["a"])(e)&&(t=Object.keys(e).map(function(t){return e[t]}));for(var s=0;s<t.length;s+=1){var n=t[s];if(n.routeName===this.$route.name)return n;if(n.menu){var i=this.findMenu(n.menu);if(i)return i}}return!1}},computed:d({},Object(o["e"])("devise",["adminMenu"]),{currentMenu:function(){return this.findMenu(this.adminMenu)},currentMenuItems:function(){var e=this;return this.currentMenu.menu.filter(function(t){return!t.permissions||e.can(t.permissions)})}})},u=l,v=s("2877"),f=Object(v["a"])(u,n,i,!1,null,null,null);t["default"]=f.exports},b2aa:function(e,t,s){"use strict";s.r(t);var n=s("2b0e");t["default"]={bind:function(e,t){var s=function s(){var i=document.querySelector("#devise-admin"),r=document.createElement("devise-confirm"),a=i.parentNode.insertBefore(r,i.nextSibling),o=n["default"].extend({template:'\n        <div v-if="show" class="dvs-fixed dvs-pin dvs-z-9999">\n          <div class="dvs-blocker"></div>\n          <div class="dvs-fixed dvs-absolute-center dvs-z-50 dvs-p-8 dvs-rounded dvs-shadow-lg dvs-bg-admin-bg dvs-text-admin-fg">\n            <h3 class="dvs-mb-8 dvs-text-white">Please Confirm</h3>\n            <div class="dvs-mb-8 dvs-text-white">'.concat(t.value.message,'</div>\n\n            <button class="dvs-btn dvs-btn-primary" @click="ok">Confirm</button>\n            <button class="dvs-btn dvs-btn-secondary" @click="cancel">Cancel</button>\n            </div>\n          </div>\n        </div>\n        '),data:function(){return{clicks:0,show:!0}},methods:{ok:function(){t.value.callback(t.value.arguments),this.close()},cancel:function(){this.close()},close:function(){this.show=!1,e.removeEventListener("click",s,!0),a.remove()}}});(new o).$mount(a)};e.addEventListener("click",s)}}}}]);
//# sourceMappingURL=devise-administration.7e32c85d.js.map