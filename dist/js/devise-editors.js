(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["devise-editors"],{"05de":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("field-editor",{attrs:{"no-reset":!0,options:e.options,value:e.value,showEditor:e.showEditor},on:{toggleShowEditor:e.toggleEditor,cancel:e.cancel,change:e.update}},[i("template",{slot:"preview"},[null===e.checked||""===e.checked?i("span",{staticClass:"dvs-italic"},[e._v("Currently No Value")]):e._e(),i("div",[e._v(e._s(e.checked?"On":"Off"))])]),i("template",{slot:"editor"},[i("div",{staticClass:"dvs-flex dvs-items-center"},[i("toggle",{attrs:{id:e.randomString(8)},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1)])],2)},o=[],s=i("5176"),a=i.n(s),l=i("29ec"),r=i("a7b1"),c={name:"CheckboxEditor",data:function(){return{originalValue:null,showEditor:!1}},mounted:function(){this.originalValue=a()({},this.value)},methods:{toggleEditor:function(){this.showEditor=!this.showEditor},cancel:function(){this.checked=this.originalValue.checked,this.enabled=this.originalValue.enabled,this.toggleEditor()}},computed:{checked:{get:function(){return this.value.checked},set:function(e){var t=a()({},this.value,{checked:e});this.$emit("input",t),this.$emit("change",t)}}},props:["value","options"],mixins:[l["a"],r["a"]],components:{FieldEditor:function(){return Promise.resolve().then(i.bind(null,"41b8"))},Toggle:function(){return Promise.all([i.e("devise-editors~devise-utilities"),i.e("devise-utilities")]).then(i.bind(null,"aa28"))}}},d=c,u=i("0c7c"),h=Object(u["a"])(d,n,o,!1,null,null,null);t["default"]=h.exports},"0a3d":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("field-editor",{attrs:{options:e.options,showEditor:e.showEditor},on:{toggleShowEditor:e.toggleEditor,cancel:e.cancel,resetvalue:e.resetValue,change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[i("template",{slot:"preview"},[null===e.value.text||""===e.value.text?i("span",{staticClass:"dvs-italic"},[e._v("Currently No Value")]):e._e(),i("div",[i("a",{attrs:{href:e.value.href,target:e.value.target}},[e._v(e._s(e.value.text))])])]),i("template",{slot:"editor"},[i("fieldset",{staticClass:"dvs-fieldset"},[i("label",[e._v("Label")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],ref:"focusInput",staticClass:"dvs-mb-4",attrs:{type:"text"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}})]),i("label",[e._v("Link Mode")]),i("div",{staticClass:"dvs-flex"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],staticClass:"dvs-w-auto dvs-mr-2",attrs:{type:"radio",value:"url"},domProps:{checked:e._q(e.mode,"url")},on:{change:function(t){e.mode="url"}}}),e._v("\n        URL\n      ")])]),i("div",{staticClass:"dvs-flex dvs-mb-4"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],staticClass:"dvs-w-auto dvs-mr-2",attrs:{type:"radio",value:"page"},domProps:{checked:e._q(e.mode,"page")},on:{change:function(t){e.mode="page"}}}),e._v("\n        Page\n      ")])]),"url"===e.mode?[i("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[i("label",[e._v("URL")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],attrs:{type:"text"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}})])]:e._e(),"page"===e.mode?[i("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[i("label",[e._v("Page")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.routeName,expression:"routeName"}],on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.routeName=t.target.multiple?i:i[0]},function(t){return e.selectPage()}]}},[i("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Select a Page")]),e._l(e.pagesList.data,function(t){return i("option",{key:t.id,domProps:{value:t.route_name}},[e._v(e._s(t.title))])})],2)])]:e._e(),i("fieldset",{staticClass:"dvs-fieldset"},[i("label",[e._v("Target")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.target,expression:"target"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.target=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"_self"}},[e._v("Same Window")]),i("option",{attrs:{value:"_blank"}},[e._v("New Tab / Window")]),i("option",{attrs:{value:"_parent"}},[e._v("Parent")]),i("option",{attrs:{value:"_top"}},[e._v("Top")])])])],2)],2)},o=[],s=(i("7514"),i("cebc")),a=i("5176"),l=i.n(a),r=i("2f62"),c=i("a7b1"),d={name:"LinkEditor",data:function(){return{showEditor:!1}},mounted:function(){this.originalValue=l()({},this.value),this.retrieveAllPagesList()},methods:Object(s["a"])({},Object(r["b"])("devise",["getPagesList"]),{toggleEditor:function(){this.showEditor=!this.showEditor,this.focusForm()},focusForm:function(){var e=this;this.showEditor&&this.$nextTick(function(){setTimeout(function(){e.$refs.focusInput.focus()},200)})},retrieveAllPagesList:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i={language_id:window.deviseSettings.$page.language.id};this.getPagesList(i).then(function(){t&&window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad)})},selectPage:function(){var e=this,t=this.pagesList.data.find(function(t){return t.route_name===e.routeName});t&&(this.url=t.url)},cancel:function(){this.mode=this.originalValue.mode,this.text=this.originalValue.text,this.url=this.originalValue.url,this.href=this.originalValue.href,this.target=this.originalValue.target,this.routeName=this.originalValue.routeName,this.enabled=this.originalValue.enabled,this.toggleEditor()},resetValue:function(){this.enabled=!1,this.target=null,this.url=null,this.href=null,this.mode=null,this.text=null,this.routeName=null}}),computed:Object(s["a"])({},Object(r["c"])("devise",["pagesList"]),{url:{get:function(){return this.value.url},set:function(e){var t=l()(this.value,{href:e,url:e});this.$emit("input",t),this.$emit("change",t)}},text:{get:function(){return this.value.text},set:function(e){var t=l()(this.value,{text:e});this.$emit("input",t),this.$emit("change",t)}},target:{get:function(){if(!this.value.target){var e=l()(this.value,{target:"_self"});this.$emit("input",e),this.$emit("change",e)}return this.value.target},set:function(e){var t=l()(this.value,{target:e});this.$emit("input",t),this.$emit("change",t)}},routeName:{get:function(){return this.value.routeName},set:function(e){var t=l()(this.value,{routeName:e});this.$emit("input",t),this.$emit("change",t)}},mode:{get:function(){return this.value.mode},set:function(e){this.url=null,this.routeName=null;var t=l()(this.value,{mode:e});this.$emit("input",t),this.$emit("change",t)}}}),props:["value","options"],components:{FieldEditor:function(){return Promise.resolve().then(i.bind(null,"41b8"))}},mixins:[c["a"]]},u=d,h=i("0c7c"),v=Object(h["a"])(u,n,o,!1,null,null,null);t["default"]=v.exports},"0fab":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"dvs-mb-4 dvs-collapsable",class:{"dvs-open":e.sliceOpen}},[i("strong",{staticClass:"dvs-block dvs-mb-4 dvs-switch-sm dvs-text-sm dvs-flex dvs-justify-between dvs-items-center dvs-w-full"},[i("div",{staticClass:"dvs-flex dvs-items-center dvs-justify-between dvs-w-full",style:{color:e.theme.panel.color}},[i("div",{staticClass:"dvs-flex dvs-items-start"},[i("menu-icon",{staticClass:"dvs-mr-2 handle",style:e.theme.panelIcons,attrs:{w:"18",h:"18"}}),i("span",{class:{"dvs-cursor-pointer":e.sliceHasFieldsOrSlices,"dvs-opacity-75":!e.sliceHasFieldsOrSlices},domProps:{innerHTML:e._s(e.editorLabel)},on:{click:function(t){return e.toggleSlice()},mouseenter:function(t){return e.markSlice(!0,e.slice)},mouseleave:function(t){return e.markSlice(!1,e.slice)}}})],1),i("div",{staticClass:"dvs-ml-2 dvs-relative dvs-p-2 dvs-rounded-sm dvs-flex dvs-items-center",style:{backgroundColor:this.theme.panelCard.background},on:{mouseenter:function(t){e.moreHovered=!0},mouseleave:function(t){e.moreHovered=!1}}},[i("more-icon",{staticStyle:{transform:"rotate(90deg)",height:"18px"},style:{color:"white"},attrs:{w:"18",h:"18"}}),e.moreHovered?i("div",{staticClass:"dvs-overflow-hidden dvs-absolute dvs-z-10 dvs-pin-t dvs-pin-r dvs-rounded-sm",staticStyle:{width:"175px"},style:{backgroundColor:this.theme.panelCard.background}},[i("div",{staticClass:"dvs-pt-2 dvs-flex dvs-items-end dvs-flex-wrap"},[i("div",{staticClass:"dvs-w-1/2"},[i("div",{staticClass:"dvs-mr-2 dvs-ml-2 dvs-items-center dvs-flex dvs-flex-col dvs-mb-2 dvs-border dvs-rounded-sm dvs-p-2",class:{"dvs-cursor-pointer":e.hasChildSlot,"dvs-cursor-not-allowed dvs-opacity-50":!e.hasChildSlot},style:{borderColor:e.theme.panelIcons.color},on:{click:function(t){return e.requestInsertSlice()}}},[i("add-icon",{style:e.theme.panelIcons,attrs:{w:"25",h:"25"}}),i("div",{staticClass:"dvs-text-xs dvs-text-center dvs-leading-none dvs-pt-2"},[e._v("Insert Slice")])],1)]),i("div",{staticClass:"dvs-w-1/2"},[i("div",{staticClass:"dvs-cursor-pointer dvs-mr-2 dvs-items-center dvs-flex dvs-flex-col dvs-mb-2 dvs-border dvs-rounded-sm dvs-p-2",style:{borderColor:e.theme.panelIcons.color},on:{click:function(t){return e.jumpToSlice()}}},[i("locate-icon",{style:e.theme.panelIcons,attrs:{w:"25",h:"25"}}),i("div",{staticClass:"dvs-text-xs dvs-text-center dvs-leading-none dvs-pt-2"},[e._v("Find")])],1)]),i("div",{staticClass:"dvs-w-1/2"},[i("div",{staticClass:"dvs-cursor-pointer dvs-ml-2 dvs-mr-2 dvs-items-center dvs-flex dvs-flex-col dvs-mb-2 dvs-border dvs-rounded-sm dvs-p-2",style:{borderColor:e.theme.panelIcons.color},on:{click:function(t){return e.copySlice(e.slice,!1)}}},[i("copy-icon",{style:e.theme.panelIcons,attrs:{w:"25",h:"25"}}),i("div",{staticClass:"dvs-text-xs dvs-text-center dvs-leading-none dvs-pt-2"},[e._v("Duplicate")])],1)]),i("div",{staticClass:"dvs-w-1/2"},[i("div",{staticClass:"dvs-cursor-pointer dvs-mr-2 dvs-items-center dvs-flex dvs-flex-col dvs-mb-2 dvs-border dvs-rounded-sm dvs-p-2",style:{borderColor:e.theme.panelIcons.color},on:{click:function(t){return e.sliceSettings()}}},[i("cog-icon",{style:e.theme.panelIcons,attrs:{w:"25",h:"25"}}),i("div",{staticClass:"dvs-text-xs dvs-text-center dvs-leading-none dvs-pt-2"},[e._v("Settings")])],1)]),i("div",{staticClass:"dvs-w-1/2"},[i("div",{staticClass:"dvs-cursor-pointer dvs-ml-2 dvs-mr-2 dvs-items-center dvs-flex dvs-flex-col dvs-mb-2 dvs-border dvs-rounded-sm dvs-p-2",style:{borderColor:e.theme.panelIcons.color},on:{click:function(t){return e.requestEditSlice()}}},[i("create-icon",{style:e.theme.panelIcons,attrs:{w:"25",h:"25"}}),i("div",{staticClass:"dvs-text-xs dvs-text-center dvs-leading-none dvs-pt-2"},[e._v("Edit")])],1)]),i("div",{staticClass:"dvs-w-1/2"},[i("div",{staticClass:"dvs-cursor-pointer dvs-mr-2 dvs-items-center dvs-flex dvs-flex-col dvs-mb-2 dvs-border dvs-rounded-sm dvs-p-2",style:{borderColor:e.theme.panelIcons.color},on:{click:function(t){return e.removeSlice()}}},[i("remove-icon",{style:e.theme.panelIcons,attrs:{w:"25",h:"25"}}),i("div",{staticClass:"dvs-text-xs dvs-text-center dvs-leading-none dvs-pt-2"},[e._v("Remove")])],1)])])]):e._e()],1)])]),!0===e.manageSlice?i("manage-slice",{ref:"manageslice",attrs:{slice:e.slice},on:{cancel:function(t){e.manageSlice=!1},addSlice:e.addSlice,editSlice:e.editSlice,removeSlice:e.removeSlice}}):e._e(),e.sliceOpen?i("div",{staticClass:"dvs-collapsed dvs-mb-4"},e._l(e.sliceConfig(e.slice).fields,function(t,n){return i("fieldset",{key:n,staticClass:"dvs-fieldset dvs-mb-1"},[e.theFields[n]?i("div",["color"===t.type?i("color-editor",{attrs:{options:t,namekey:n},on:{change:function(i){return e.editField(i,t,n)}},model:{value:e.theFields[n],callback:function(t){e.$set(e.theFields,n,t)},expression:"theFields[key]"}}):e._e(),"checkbox"===t.type?i("checkbox-editor",{attrs:{options:t,namekey:n},on:{change:function(i){return e.editField(i,t,n)}},model:{value:e.theFields[n],callback:function(t){e.$set(e.theFields,n,t)},expression:"theFields[key]"}}):e._e(),"datetime"===t.type?i("datetime-editor",{attrs:{options:t,namekey:n},on:{change:function(i){return e.editField(i,t,n)}},model:{value:e.theFields[n],callback:function(t){e.$set(e.theFields,n,t)},expression:"theFields[key]"}}):e._e(),"image"===t.type?i("image-editor",{attrs:{options:t,namekey:n},on:{change:function(i){return e.editField(i,t,n)}},model:{value:e.theFields[n],callback:function(t){e.$set(e.theFields,n,t)},expression:"theFields[key]"}}):e._e(),"file"===t.type?i("file-editor",{attrs:{options:t,namekey:n},on:{change:function(i){return e.editField(i,t,n)}},model:{value:e.theFields[n],callback:function(t){e.$set(e.theFields,n,t)},expression:"theFields[key]"}}):e._e(),"link"===t.type?i("link-editor",{attrs:{options:t,namekey:n},on:{change:function(i){return e.editField(i,t,n)}},model:{value:e.theFields[n],callback:function(t){e.$set(e.theFields,n,t)},expression:"theFields[key]"}}):e._e(),"number"===t.type?i("number-editor",{attrs:{options:t,namekey:n},on:{change:function(i){return e.editField(i,t,n)}},model:{value:e.theFields[n],callback:function(t){e.$set(e.theFields,n,t)},expression:"theFields[key]"}}):e._e(),"select"===t.type?i("select-editor",{attrs:{options:t,namekey:n},on:{change:function(i){return e.editField(i,t,n)}},model:{value:e.theFields[n],callback:function(t){e.$set(e.theFields,n,t)},expression:"theFields[key]"}}):e._e(),"textarea"===t.type?i("textarea-editor",{attrs:{options:t,namekey:n},on:{change:function(i){return e.editField(i,t,n)}},model:{value:e.theFields[n],callback:function(t){e.$set(e.theFields,n,t)},expression:"theFields[key]"}}):e._e(),"text"===t.type?i("text-editor",{attrs:{options:t,namekey:n},on:{change:function(i){return e.editField(i,t,n)}},model:{value:e.theFields[n],callback:function(t){e.$set(e.theFields,n,t)},expression:"theFields[key]"}}):e._e(),"wysiwyg"===t.type?i("wysiwyg-editor",{attrs:{options:t,namekey:n,show:e.slice.metadata.show},on:{change:function(i){return e.editField(i,t,n)}},model:{value:e.theFields[n],callback:function(t){e.$set(e.theFields,n,t)},expression:"theFields[key]"}}):e._e()],1):e._e()])}),0):e._e(),i("div",{staticClass:"dvs-collapsed"},["model"===e.slice.metadata.type?i("help",{style:e.theme.panel},[e._v("Be aware that these entries are model entries. That means they are managed in your database by another tool or by an admin section in your adminitration.")]):e._e()],1),e.sliceOpen?i("div",{staticClass:"dvs-collapsed dvs-ml-4"},["model"!==e.slice.metadata.type?i("draggable",{staticClass:"dvs-list-reset",attrs:{element:"ul",options:{group:{name:"g1"}}},model:{value:e.slice.slices,callback:function(t){e.$set(e.slice,"slices",t)},expression:"slice.slices"}},[e._l(e.slice.slices,function(t){return[i("slice-editor",{key:t.metadata.instance_id,attrs:{devise:t,child:!0},on:{addSlice:e.addSlice,editSlice:e.editSlice,removeSlice:e.removeSlice,copySlice:e.copySlice}})]})],2):e._e()],1):e._e()],1)},o=[],s=(i("7f7f"),i("a4bb")),a=i.n(s),l=i("7618"),r=i("cebc"),c=i("5176"),d=i.n(c),u=i("2f62"),h={name:"SliceEditor",data:function(){return{manageSlice:!1,pageSlices:[],moreHovered:!1,sliceOpen:!1}},mounted:function(){this.slice.slices&&(this.pageSlices=this.slice.slices)},methods:{toggleSlice:function(){this.sliceOpen=!this.sliceOpen},toggleSliceTools:function(){this.slice.metadata.tools=!this.slice.metadata.tools},markSlice:function(e){window.window.deviseSettings.$bus.$emit("markSlice",this.slice,e)},jumpToSlice:function(){window.window.deviseSettings.$bus.$emit("jumpToSlice",this.slice)},sliceSettings:function(){window.window.deviseSettings.$bus.$emit("openSliceSettings",this.slice)},requestInsertSlice:function(){var e=this;this.hasChildSlot&&(this.manageSlice=!0,this.$nextTick(function(){e.$refs.manageSlice&&(e.$refs.manageslice.action="insert")}))},addSlice:function(e,t){"undefined"===typeof t&&(t=this.slice),this.$emit("addSlice",e,t),this.manageSlice=!1},requestEditSlice:function(){var e=this;this.manageSlice=!0,this.$nextTick(function(){e.$refs.manageSlice&&(e.$refs.manageslice.action="edit")})},editSlice:function(e,t){"undefined"===typeof t&&(t=this.slice),this.$emit("editSlice",e,t),this.manageSlice=!1},copySlice:function(e,t){null===t&&(t=d()({},this.slice)),!1===t&&(t=null),this.$emit("copySlice",e,t)},removeSlice:function(e,t){"undefined"===typeof e?e=this.slice:"undefined"===typeof t&&(t=this.slice),this.$emit("removeSlice",e,t),this.manageSlice=!1},editField:function(e,t,i){this.slice[i]=d()({},e),window.deviseSettings.$bus.$emit("devise-field-edited",{field:t,value:e})}},computed:Object(r["a"])({},Object(u["c"])("devise",["component","fieldConfig","sliceConfig"]),Object(u["d"])("devise",["devMode"]),{slice:function(){return this.devise},theFields:function(){var e={};for(var t in this.slice)this.slice.hasOwnProperty(t)&&"slices"!==t&&"metadata"!==t&&"settings"!==t&&"object"===Object(l["a"])(this.slice[t])&&(e[t]=this.slice[t],"undefined"===typeof e[t].enabled&&this.$set(e[t],"enabled",!0));return e},sliceHasFieldsOrSlices:function(){var e=a()(this.theFields).length;return this.slice.slices&&(e+=this.slice.slices.length),e>0},hasChildSlot:function(){var e=this.component(this.slice.metadata.name);return!!e.has_child_slot},editorLabel:function(){var e={text:"text",number:"text",datetime:"text",image:"url",link:"text",select:"value"},t="";for(var i in this.devMode&&(t='<div class="dvs-text-sm dvs-uppercase dvs-opacity-75">Instance Id: '.concat(this.slice.metadata.instance_id,"</div>")),this.theFields)if(this.theFields.hasOwnProperty(i)){var n=this.theFields[i];if(n.editorLabel&&n[e[n.type]]){var o=n[e[n.type]];if(o="image"===n.type?'<div class="dvs-rounded dvs-bg-cover" style="background-image: url(\''.concat(o,"'); height:100px; width:200px;\"></div>"):"".concat(o.toLowerCase()),o)return"".concat(t,'<div class="dvs-capitalize">').concat(o,'</div><div class="dvs-text-xs dvs-opacity-25 dvs-uppercase">').concat(this.slice.metadata.label,"</div>")}}return"".concat(t,'<div class="dvs-capitalize">').concat(this.slice.metadata.label,'</div><div class="dvs-text-xs dvs-opacity-25 dvs-uppercase">&nbsp;</div>')}}),props:{child:{default:!1}},components:{AddIcon:function(){return i.e("devise-icons").then(i.bind(null,"b0c7"))},CheckboxEditor:function(){return Promise.resolve().then(i.bind(null,"05de"))},CogIcon:function(){return i.e("devise-icons").then(i.bind(null,"7eb9"))},CopyIcon:function(){return i.e("devise-icons").then(i.bind(null,"52cc"))},ColorEditor:function(){return Promise.resolve().then(i.bind(null,"4ccd"))},DatetimeEditor:function(){return Promise.resolve().then(i.bind(null,"3285"))},CreateIcon:function(){return i.e("devise-icons").then(i.bind(null,"a70d"))},draggable:function(){return Promise.resolve().then(i.t.bind(null,"1516",7))},FileEditor:function(){return Promise.resolve().then(i.bind(null,"14bf"))},ImageEditor:function(){return Promise.resolve().then(i.bind(null,"965e"))},LinkEditor:function(){return Promise.resolve().then(i.bind(null,"0a3d"))},LocateIcon:function(){return i.e("devise-icons").then(i.bind(null,"2b9d"))},ManageSlice:function(){return Promise.resolve().then(i.bind(null,"7589"))},MenuIcon:function(){return i.e("devise-icons").then(i.bind(null,"40a8"))},MoreIcon:function(){return i.e("devise-icons").then(i.bind(null,"ed73"))},NumberEditor:function(){return Promise.resolve().then(i.bind(null,"2204"))},RemoveIcon:function(){return i.e("devise-icons").then(i.bind(null,"e48c"))},SelectEditor:function(){return Promise.resolve().then(i.bind(null,"e803"))},SliceEditor:function(){return Promise.resolve().then(i.bind(null,"0fab"))},TextareaEditor:function(){return Promise.resolve().then(i.bind(null,"3848"))},TextEditor:function(){return Promise.resolve().then(i.bind(null,"40e3"))},WysiwygEditor:function(){return Promise.resolve().then(i.bind(null,"bc75"))}}},v=h,f=i("0c7c"),p=Object(f["a"])(v,n,o,!1,null,null,null);t["default"]=p.exports},"14bf":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("field-editor",{attrs:{options:e.options,value:e.value,showEditor:e.showEditor},on:{toggleShowEditor:e.toggleEditor,cancel:e.cancel,resetvalue:e.resetValue,change:e.update}},[i("template",{slot:"preview"},[null===e.value.url||""===e.value.url?i("span",{staticClass:"dvs-italic"},[e._v("Currently No Value")]):e._e(),i("img",{staticClass:"dvs-max-w-2xs",attrs:{src:e.value.url,alt:e.value.url}}),i("br")]),i("template",{slot:"editor"},[i("fieldset",{staticClass:"dvs-fieldset"},[i("div",{staticClass:"dvs-flex dvs-items-center"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],attrs:{type:"text"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}}),i("div",{on:{click:function(t){return e.launchMediaManager(t)}}},[i("document-icon",{staticClass:"dvs-ml-4 dvs-cursor-pointer",attrs:{w:"30px",h:"30px"}})],1)])])])],2)},o=[],s=i("5176"),a=i.n(s),l=i("a7b1"),r={name:"FileEditor",data:function(){return{originalValue:null,showEditor:!1}},mounted:function(){this.originalValue=a()({},this.value)},methods:{toggleEditor:function(){this.showEditor=!this.showEditor},cancel:function(){this.url=this.originalValue.url,this.enabled=this.originalValue.enabled,this.toggleEditor()},launchMediaManager:function(){window.deviseSettings.$bus.$emit("devise-launch-media-manager",{callback:this.mediaSelected,options:this.options})},mediaSelected:function(e){this.url=e},resetValue:function(){this.enabled=!1,this.url=null}},computed:{url:{get:function(){return this.value.url},set:function(e){var t=a()(this.value,{url:e});this.$emit("input",t),this.$emit("change",t)}}},props:["value","options"],components:{FieldEditor:function(){return Promise.resolve().then(i.bind(null,"41b8"))},DocumentIcon:function(){return i.e("devise-icons").then(i.bind(null,"6f72"))}},mixins:[l["a"]]},c=r,d=i("0c7c"),u=Object(d["a"])(c,n,o,!1,null,null,null);t["default"]=u.exports},1516:function(e,t,i){"use strict";"function"===typeof Symbol&&Symbol.iterator;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function o(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(function(){function t(e,t,i){return void 0==i?e:(e=null==e?{}:e,e[t]=i,e)}function s(e){function i(e){e.parentElement.removeChild(e)}function s(e,t,i){var n=0===i?e.children[0]:e.children[i-1].nextSibling;e.insertBefore(t,n)}function a(e,t){return e.map(function(e){return e.elm}).indexOf(t)}function l(e,t,i){if(!e)return[];var n=e.map(function(e){return e.elm}),s=[].concat(o(t)).map(function(e){return n.indexOf(e)});return i?s.filter(function(e){return-1!==e}):s}function r(e,t){var i=this;this.$nextTick(function(){return i.$emit(e.toLowerCase(),t)})}function c(e){var t=this;return function(i){null!==t.realList&&t["onDrag"+e](i),r.call(t,e,i)}}var d=["Start","Add","Remove","Update","End"],u=["Choose","Sort","Filter","Clone"],h=["Move"].concat(d,u).map(function(e){return"on"+e}),v=null,f={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},p={name:"draggable",props:f,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1,init:!1}},render:function(e){var i=this.$slots.default;if(i&&1===i.length){var n=i[0];n.componentOptions&&"transition-group"===n.componentOptions.tag&&(this.transitionMode=!0)}var s=0,a=i,l=this.$slots,r=l.header,c=l.footer;r&&(s=r.length,a=a?[].concat(o(r),o(a)):[].concat(o(r))),c&&(a=a?[].concat(o(a),o(c)):[].concat(o(c))),this.headerOffset=s;var d=null,u=function(e,i){d=t(d,e,i)};if(u("attrs",this.$attrs),this.componentData){var h=this.componentData,v=h.on,f=h.props;u("on",v),u("props",f)}return e(this.element,d,a)},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.element.toLowerCase()!==this.$el.nodeName.toLowerCase(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: "+this.element);var i={};d.forEach(function(e){i["on"+e]=c.call(t,e)}),u.forEach(function(e){i["on"+e]=r.bind(t,e)});var o=n({},this.options,i,{onMove:function(e,i){return t.onDragMove(e,i)}});!("draggable"in o)&&(o.draggable=">*"),this._sortable=new e(this.rootContainer,o),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},isCloning:function(){return!!this.options&&!!this.options.group&&"clone"===this.options.group.pull},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){for(var t in e)-1==h.indexOf(t)&&this._sortable.option(t,e[t])},deep:!0},realList:function(){this.computeIndexes()}},methods:{getChildrenNodes:function(){if(this.init||(this.noneFunctionalComponentMode=this.noneFunctionalComponentMode&&1==this.$children.length,this.init=!0),this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick(function(){e.visibleIndexes=l(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode)})},getUnderlyingVm:function(e){var t=a(this.getChildrenNodes()||[],e);if(-1===t)return null;var i=this.realList[t];return{index:t,element:i}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&"transition-group"===t.$options._componentTag?t.$parent:t},emitChanges:function(e){var t=this;this.$nextTick(function(){t.$emit("change",e)})},alterList:function(e){if(this.list)e(this.list);else{var t=[].concat(o(this.value));e(t),this.$emit("input",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,e)};this.alterList(t)},updatePosition:function(e,t){var i=function(i){return i.splice(t,0,i.splice(e,1)[0])};this.alterList(i)},getRelatedContextFromMoveEvent:function(e){var t=e.to,i=e.related,o=this.getUnderlyingPotencialDraggableComponent(t);if(!o)return{component:o};var s=o.realList,a={list:s,component:o};if(t!==i&&s&&o.getUnderlyingVm){var l=o.getUnderlyingVm(i);if(l)return n(l,a)}return a},getVmIndex:function(e){var t=this.visibleIndexes,i=t.length;return e>i-1?i:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){var t=this.getChildrenNodes();t[e].data=null;var i=this.getComponent();i.children=[],i.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),v=e.item},onDragAdd:function(e){this.updateEvenemt(e);var t=e.item._underlying_vm_;if(void 0!==t){i(e.item);var n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();var o={element:t,newIndex:n};this.emitChanges({added:o})}},onDragRemove:function(e){if(this.updateEvenemt(e),s(this.rootContainer,e.item,e.oldIndex),this.isCloning)i(e.clone);else{var t=this.context.index;this.spliceList(t,1);var n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})}},onDragUpdate:function(e){this.updateEvenemt(e),i(e.item),s(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);var o={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:o})},updateEvenemt:function(e){this.updateProperty(e,"newIndex"),this.updateProperty(e,"oldIndex")},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var i=[].concat(o(t.to.children)).filter(function(e){return"none"!==e.style["display"]}),n=i.indexOf(t.related),s=e.component.getVmIndex(n),a=-1!=i.indexOf(v);return a||!t.willInsertAfter?s:s+1},onDragMove:function(e,t){var i=this.move;if(!i||!this.realList)return!0;var o=this.getRelatedContextFromMoveEvent(e),s=this.context,a=this.computeFutureIndex(o,e);return n(s,{futureIndex:a}),n(e,{relatedContext:o,draggedContext:s}),i(e,t)},onDragEnd:function(e){this.computeIndexes(),v=null}}};return p}Array.from||(Array.from=function(e){return[].slice.call(e)});var a=i("53fe");e.exports=s(a)})()},2204:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("field-editor",{attrs:{options:e.options,showEditor:e.showEditor},on:{toggleShowEditor:e.toggleEditor,cancel:e.cancel,resetvalue:e.resetValue,change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[i("template",{slot:"preview"},[null===e.value.text||""===e.value.text?i("span",{staticClass:"dvs-italic"},[e._v("Currently No Value")]):e._e(),i("div",[e._v(e._s(e.value.text))])]),i("template",{slot:"editor"},[i("fieldset",{staticClass:"dvs-fieldset"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],ref:"focusInput",attrs:{type:"number"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}})])])],2)},o=[],s=i("5176"),a=i.n(s),l=i("a7b1"),r={name:"NumberEditor",data:function(){return{originalValue:{},showEditor:!1}},mounted:function(){this.originalValue=a()({},this.value)},methods:{toggleEditor:function(){this.showEditor=!this.showEditor,this.focusForm()},focusForm:function(){var e=this;this.showEditor&&this.$nextTick(function(){setTimeout(function(){e.$refs.focusInput.focus()},200)})},cancel:function(){this.text=this.originalValue.text,this.enabled=this.originalValue.enabled,this.toggleEditor()},resetValue:function(){this.enabled=!1,this.text=null}},computed:{text:{get:function(){return this.value.text},set:function(e){var t=a()(this.value,{text:e});this.$emit("input",t),this.$emit("change",t)}}},props:["value","options"],components:{FieldEditor:function(){return Promise.resolve().then(i.bind(null,"41b8"))}},mixins:[l["a"]]},c=r,d=i("0c7c"),u=Object(d["a"])(c,n,o,!1,null,null,null);t["default"]=u.exports},3285:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("field-editor",{attrs:{options:e.options,value:e.value,showEditor:e.showEditor},on:{toggleShowEditor:e.toggleEditor,cancel:e.cancel,resetvalue:e.resetValue,change:e.update}},[i("template",{slot:"preview"},[null===e.value.text||""===e.value.text?i("span",{staticClass:"dvs-italic"},[e._v("Currently No Value")]):e._e(),i("div",[e._v(e._s(e.value.text))])]),i("template",{slot:"editor"},[i("fieldset",{staticClass:"dvs-fieldset"},[i("date-picker",{ref:"datepicker",attrs:{settings:e.settings},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)])],2)},o=[],s=i("5176"),a=i.n(s),l=i("7e6e"),r=i("a7b1"),c={name:"DatetimeEditor",data:function(){return{showEditor:!1,settings:{date:!0,time:!1},originalValue:{}}},mounted:function(){this.setSettings()},methods:{setSettings:function(){if(this.options&&this.options.settings){var e=this.options.settings;e.date&&(this.settings.date=e.date),e.time&&(this.settings.time=e.time),e.format&&(this.settings.format=e.format)}},toggleEditor:function(){this.originalValue=a()({},this.value),this.showEditor=!this.showEditor},cancel:function(){this.text=this.originalValue.text,this.enabled=this.originalValue.enabled,this.toggleEditor()},resetValue:function(){this.enabled=!1,this.text=null}},computed:{text:{get:function(){return this.value.text},set:function(e){var t=a()(this.value,{text:e});this.$emit("input",t),this.$emit("change",t)}},getMaxLength:function(){return"undefined"!==typeof this.settings&&"undefined"!==typeof this.settings.maxlength?this.settings.maxlength:""}},props:["value","options"],components:{FieldEditor:function(){return Promise.resolve().then(i.bind(null,"41b8"))},DatePicker:l["default"]},mixins:[r["a"]]},d=c,u=i("0c7c"),h=Object(u["a"])(d,n,o,!1,null,null,null);t["default"]=h.exports},3848:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("field-editor",{attrs:{options:e.options,showEditor:e.showEditor},on:{toggleShowEditor:e.toggleEditor,cancel:e.cancel,resetvalue:e.resetValue,change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[i("template",{slot:"preview"},[null===e.value.text||""===e.value.text?i("span",{staticClass:"dvs-italic"},[e._v("Currently No Value")]):e._e(),i("div",[e._v(e._s(e.clipString(e.value.text,300,!0)))])]),i("template",{slot:"editor"},[i("fieldset",{staticClass:"dvs-fieldset"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],ref:"focusInput",attrs:{type:"text",maxlength:e.getMaxLength},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}})])])],2)},o=[],s=i("5176"),a=i.n(s),l=i("29ec"),r=i("a7b1"),c={name:"TextAreaEditor",data:function(){return{originalValue:null,showEditor:!1}},mounted:function(){this.originalValue=a()({},this.value)},methods:{toggleEditor:function(){this.showEditor=!this.showEditor,this.focusForm()},focusForm:function(){var e=this;this.showEditor&&this.$nextTick(function(){setTimeout(function(){e.$refs.focusInput.focus()},200)})},cancel:function(){this.text=this.originalValue.text,this.enabled=this.originalValue.enabled,this.toggleEditor()},updateValue:function(){this.$emit("input",this.localValue),this.$emit("change",this.localValue)},resetValue:function(){this.text=null,this.enabled=!1}},computed:{getMaxLength:function(){return"undefined"!==typeof this.settings&&"undefined"!==typeof this.settings.maxlength?this.settings.maxlength:""},text:{get:function(){return this.value.text},set:function(e){var t=a()(this.value,{text:e});this.$emit("input",t),this.$emit("change",t)}}},props:["value","options"],mixins:[l["a"],r["a"]],components:{FieldEditor:function(){return Promise.resolve().then(i.bind(null,"41b8"))}}},d=c,u=i("0c7c"),h=Object(u["a"])(d,n,o,!1,null,null,null);t["default"]=h.exports},"40e3":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("field-editor",{attrs:{options:e.options,showEditor:e.showEditor},on:{toggleShowEditor:e.toggleEditor,cancel:e.cancel,resetvalue:e.resetValue,change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[i("template",{slot:"preview"},[null===e.value.text||""===e.value.text?i("span",{staticClass:"dvs-italic"},[e._v("Currently No Value")]):e._e(),i("div",[e._v(e._s(e.clipString(e.value.text,200,!0)))])]),i("template",{slot:"editor"},[i("fieldset",{staticClass:"dvs-fieldset"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],ref:"focusInput",attrs:{type:"text",maxlength:e.getMaxLength},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}})])])],2)},o=[],s=i("5176"),a=i.n(s),l=i("29ec"),r=i("a7b1"),c={name:"TextEditor",data:function(){return{originalValue:null,showEditor:!1}},mounted:function(){this.originalValue=a()({},this.value)},methods:{toggleEditor:function(){this.showEditor=!this.showEditor,this.focusForm()},focusForm:function(){var e=this;this.showEditor&&this.$nextTick(function(){setTimeout(function(){e.$refs.focusInput.focus()},200)})},cancel:function(){this.text=this.originalValue.text,this.enabled=this.originalValue.enabled,this.toggleEditor()},resetValue:function(){this.text=null,this.enabled=!1}},computed:{getMaxLength:function(){return"undefined"!==typeof this.settings&&"undefined"!==typeof this.settings.maxlength?this.settings.maxlength:""},text:{get:function(){return this.value.text},set:function(e){var t=a()(this.value,{text:e});this.$emit("input",t),this.$emit("change",t)}}},props:["value","options"],mixins:[l["a"],r["a"]],components:{FieldEditor:function(){return Promise.resolve().then(i.bind(null,"41b8"))}}},d=c,u=i("0c7c"),h=Object(u["a"])(d,n,o,!1,null,null,null);t["default"]=h.exports},"41b8":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dvs-relative dvs-px-1 dvs-py-1 dvs-rounded-sm dvs-text-xs dvs-cursor-pointer",style:e.theme.panelSidebar},[i("div",{staticClass:"dvs-flex dvs-justify-between dvs-items-center"},[i("div",{staticClass:"dvs-large-label dvs-flex dvs-items-center dvs-mr-2 dvs-font-bold dvs-w-full"},[i("div",{staticClass:"dvs-rounded-full dvs-mr-2 dvs-w-2 dvs-h-2 dvs-mr-2",class:{"dvs-bg-green":e.value.enabled,"dvs-bg-white":!e.value.enabled,"dvs-invisible":!e.options.enabler},on:{click:e.toggleEnabled}}),i("div",{staticClass:"dvs-flex dvs-items-center dvs-justify-start dvs-w-full",on:{click:e.toggleShowEditor}},[e.options.swatch&&e.value.color?i("div",{staticClass:"dvs-rounded-sm dvs-mr-2",staticStyle:{width:"10px",height:"10px"},style:"background-color:"+e.value.color}):e._e(),e._v("\n        "+e._s(e.devLabel)+" "+e._s(e.options.label)+"\n      ")])])]),e.showEditor?[i("portal",{attrs:{to:"devise-root"}},[i("div",{staticClass:"dvs-blocker",style:{backgroundColor:"transparent"},on:{click:e.toggleShowEditor}}),i("panel",{staticClass:"dvs-fixed dvs-pin-b dvs-pin-r dvs-mx-8 dvs-mb-8 dvs-z-40 dvs-max-w-full",attrs:{id:"field-panel","panel-style":e.theme.panel}},[i("div",{staticClass:"dvs-p-8 dvs-flex dvs-flex-col"},[i("h6",{staticClass:"dvs-text-base dvs-mb-2 dvs-w-full",style:{color:e.theme.panel.color}},[i("span",[e._v(e._s(e.value.label))]),i("br"),e.value.instructions?i("small",{staticClass:"dvs-text-xs"},[e._v("\n              Hint from Developer:\n              "),i("span",{staticClass:"dvs-italic dvs-font-normal"},[e._v(e._s(e.value.instructions))])]):e._e()]),e._t("editor"),i("div",{staticClass:"dvs-flex dvs-flex-col dvs-items-center dvs-mt-4 dvs-mb-4 dvs-justify-between"},[i("div",{staticClass:"dvs-flex dvs-items-center",class:{"dvs-mb-6":e.options.enabler}},[i("button",{staticClass:"dvs-btn dvs-mr-2",style:e.theme.actionButton,on:{click:e.toggleShowEditor}},[e._v("Done")]),i("button",{staticClass:"dvs-btn dvs-mr-2",style:e.theme.actionButtonGhost,on:{click:e.cancel}},[e._v("Cancel")])]),e.options.enabler?i("div",{staticClass:"dvs-flex dvs-items-center dvs-justify-between"},[i("label",{staticClass:"dvs-mr-2"},[e._v("Field Enabled")]),i("toggle",{attrs:{id:e.randomString(8)},model:{value:e.enabled,callback:function(t){e.enabled=t},expression:"enabled"}})],1):e._e()]),e.showErase||e.noReset?e._e():i("div",{staticClass:"dvs-absolute dvs-pin-b dvs-pin-l dvs-pin-r dvs-uppercase dvs-text-center dvs-text-xs dvs-p-2 dvs-opacity-50 hover:dvs-opacity-100 dvs-cursor-pointer",staticStyle:{height:"30px"},style:{backgroundColor:e.theme.panelCard.background},on:{click:function(t){e.showErase=!0}}},[e._v("reset")]),e.showErase?i("div",{staticClass:"dvs--mb-8 dvs--ml-8 dvs--mr-8",style:e.theme.actionButton},[i("button",{staticClass:"dvs-btn dvs-w-full",style:e.theme.actionButton,on:{click:e.resetValue}},[e._v("Reset Value to Nothing")])]):e._e()],2)])],1)]:e._e()],2)},o=[],s=i("cebc"),a=i("2f62"),l=i("29ec"),r=i("a7b1"),c={name:"FieldEditor",data:function(){return{showErase:!1}},methods:{toggleShowEditor:function(){this.showErase=!1,this.$emit("toggleShowEditor")},cancel:function(){this.$emit("cancel")},enabledTip:function(e){return e?"This field is enabled":"This field is not enabled. Edit the field and toggle the enable switch to turn it on."},toggleEnabled:function(e){this.options.enabler||e.preventDefault(),this.value.enabled=!this.value.enabled},resetValue:function(){this.showErase=!1,this.$emit("resetvalue")}},computed:Object(s["a"])({},Object(a["d"])("devise",["devMode"]),{devLabel:function(){this.devMode}}),props:["value","options","showEditor","noReset"],mixins:[l["a"],r["a"]],components:{Panel:function(){return Promise.all([i.e("devise-editors~devise-utilities"),i.e("devise-utilities")]).then(i.bind(null,"cb57"))},Toggle:function(){return Promise.all([i.e("devise-editors~devise-utilities"),i.e("devise-utilities")]).then(i.bind(null,"aa28"))}}},d=c,u=i("0c7c"),h=Object(u["a"])(d,n,o,!1,null,null,null);t["default"]=h.exports},"4ccd":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("field-editor",{ref:"field",attrs:{options:e.options,showEditor:e.showEditor},on:{toggleShowEditor:e.toggleEditor,cancel:e.cancel,resetvalue:e.resetValue,change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[i("template",{slot:"preview"},[null===e.color||""===e.color?i("span",{staticClass:"dvs-italic"},[e._v("Currently No Value")]):i("div",{staticClass:"dvs-flex dvs-items-center"},[i("div",{staticClass:"dvs-w-4 dvs-h-4 dvs-rounded-full dvs-mr-4",style:{"background-color":e.color}})])]),i("template",{slot:"editor"},[i("sketch-picker",{on:{cancel:e.cancel},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)],2)},o=[],s=i("5176"),a=i.n(s),l=i("c345"),r=i("a7b1"),c=i("66cb"),d={name:"ColorEditor",data:function(){return{showEditor:!1,originalValue:null}},mounted:function(){this.originalValue=this.value.color},methods:{toggleEditor:function(){this.showEditor=!this.showEditor},cancel:function(){var e=this.convertColor(this.originalValue);this.color={rgba:e},this.enabled=this.originalValue.enabled,this.toggleEditor()},convertColor:function(e){return c(e).toRgb()},resetValue:function(){this.enabled=!1,this.color=null}},computed:{getMaxLength:function(){return"undefined"!==typeof this.settings&&"undefined"!==typeof this.settings.maxlength?this.settings.maxlength:""},color:{get:function(){return c(this.value.color).toHex()},set:function(e){var t=a()(this.value,{color:null});null!==e&&(t=a()(this.value,{color:"rgba(".concat(e.rgba.r,",").concat(e.rgba.g,",").concat(e.rgba.b,",").concat(e.rgba.a,")")})),this.$emit("input",t),this.$emit("change",t)}}},props:["value","options"],components:{FieldEditor:function(){return Promise.resolve().then(i.bind(null,"41b8"))},"sketch-picker":l["Sketch"]},mixins:[r["a"]]},u=d,h=i("0c7c"),v=Object(h["a"])(u,n,o,!1,null,null,null);t["default"]=v.exports},"53fe":function(e,t,i){(function(n){var o,s;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
(function(n){"use strict";o=n,s="function"===typeof o?o.call(t,i,t,e):o,void 0===s||(e.exports=s)})(function(){"use strict";if("undefined"===typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,i,o,s,a,l,r,c,d,u,h,v,f,p,m,g,b,x,y,w,C,_,$,S,E=[],k=!1,T=!1,D=!1,P=[],O=!1,M=!1,I=/\s+/g,F="Sortable"+(new Date).getTime(),N=window,V=N.document,L=N.parseInt,A=N.setTimeout,B=n||N.Zepto,R=N.Polymer,j={capture:!1,passive:!1},H=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),z=!!navigator.userAgent.match(/Edge/i),X=z||H?"cssFloat":"float",Y="draggable"in V.createElement("div"),U=function(){if(H)return!1;var e=V.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),q=!1,W=!1,K=Math.abs,G=Math.min,Q=[],Z=function(e,t){var i=ye(e),n=L(i.width),o=ke(e,0,t),s=ke(e,1,t),a=o&&ye(o),l=s&&ye(s),r=a&&L(a.marginLeft)+L(a.marginRight)+He(o).width,c=l&&L(l.marginLeft)+L(l.marginRight)+He(s).width;return"flex"===i.display?"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal":o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||r>=n&&"none"===i[X]||s&&"none"===i[X]&&r+c>n)?"vertical":"horizontal"},J=function(e,t){for(var i=0;i<P.length;i++)if(!P[i].children.length){var n=He(P[i]),o=P[i][F].options.emptyInsertThreshold,s=e>=n.left-o&&e<=n.right+o,a=t>=n.top-o&&t<=n.bottom+o;if(s&&a)return P[i]}},ee=function(e,t,i,n,o){var s=He(i),a="vertical"===n?s.left:s.top,l="vertical"===n?s.right:s.bottom,r="vertical"===n?e:t;return a<r&&r<l},te=function(t,i,n){var o=t===e&&S||He(t),s=i===e&&S||He(i),a="vertical"===n?o.left:o.top,l="vertical"===n?o.right:o.bottom,r="vertical"===n?o.width:o.height,c="vertical"===n?s.left:s.top,d="vertical"===n?s.right:s.bottom,u="vertical"===n?s.width:s.height;return a===c||l===d||a+r/2===c+u/2},ie=function(e,t){if(!e||!e.getBoundingClientRect)return N;var i=e,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var o=ye(i);if(i.clientWidth<i.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!i||!i.getBoundingClientRect||i===V.body)return N;if(n||t)return i;n=!0}}}while(i=i.parentNode);return N},ne=Ne(function(e,t,i,n){if(t.scroll){var o=i?i[F]:window,s=t.scrollSensitivity,a=t.scrollSpeed,l=e.clientX,u=e.clientY,h=(window.innerWidth,window.innerHeight,!1);c!==i&&(oe(),r=t.scroll,d=t.scrollFn,!0===r&&(r=ie(i,!0),c=r));var v=0,f=r;do{var p,m,g,b,y,w,C,_,$,S=f,T=He(S),D=T.top,P=T.bottom,O=T.left,M=T.right,I=T.width,L=T.height;if(S!==N?(p=S.scrollWidth,m=S.scrollHeight,g=ye(S),w=I<p&&("auto"===g.overflowX||"scroll"===g.overflowX),C=L<m&&("auto"===g.overflowY||"scroll"===g.overflowY),_=S.scrollLeft,$=S.scrollTop):(p=V.documentElement.scrollWidth,m=V.documentElement.scrollHeight,g=ye(V.documentElement),w=I<p&&("auto"===g.overflowX||"scroll"===g.overflowX||"visible"===g.overflowX),C=L<m&&("auto"===g.overflowY||"scroll"===g.overflowY||"visible"===g.overflowY),_=V.documentElement.scrollLeft,$=V.documentElement.scrollTop),b=w&&(K(M-l)<=s&&_+I<p)-(K(O-l)<=s&&!!_),y=C&&(K(P-u)<=s&&$+L<m)-(K(D-u)<=s&&!!$),!E[v])for(var A=0;A<=v;A++)E[A]||(E[A]={});E[v].vx==b&&E[v].vy==y&&E[v].el===S||(E[v].el=S,E[v].vx=b,E[v].vy=y,clearInterval(E[v].pid),!S||0==b&&0==y||(h=!0,E[v].pid=setInterval(function(){n&&0===this.layer&&ve.active._emulateDragOver(!0);var t=E[this.layer].vy?E[this.layer].vy*a:0,i=E[this.layer].vx?E[this.layer].vx*a:0;"function"===typeof d&&"continue"!==d.call(o,i,t,e,x,E[this.layer].el)||(E[this.layer].el===N?N.scrollTo(N.pageXOffset+i,N.pageYOffset+t):(E[this.layer].el.scrollTop+=t,E[this.layer].el.scrollLeft+=i))}.bind({layer:v}),24))),v++}while(t.bubbleScroll&&f!==N&&(f=ie(f,!1)));k=h}},30),oe=function(){E.forEach(function(e){clearInterval(e.pid)}),E=[]},se=function(e){function t(e,i){return function(n,o,s,a){var l=n.options.group.name&&o.options.group.name&&n.options.group.name===o.options.group.name;if(null==e&&(i||l))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"===typeof e)return t(e(n,o,s,a),i)(n,o,s,a);var r=(i?n:o).options.group.name;return!0===e||"string"===typeof e&&e===r||e.join&&e.indexOf(r)>-1}}var i={},n=e.group;n&&"object"==typeof n||(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i},ae=function(t){e&&e.parentNode&&e.parentNode[F]&&e.parentNode[F]._computeIsAligned(t)},le=function(e,t){var i=t;while(!i[F])i=i.parentNode;return e===i},re=function(e,t,i){var n=e.parentNode;while(n&&!n[F])n=n.parentNode;n&&n[F][i](Le(t,{artificialBubble:!0}))},ce=function(){!U&&i&&ye(i,"display","none")},de=function(){!U&&i&&ye(i,"display","")};V.addEventListener("click",function(e){if(D)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),D=!1,!1},!0);var ue,he=function(t){if(e){var i=J(t.clientX,t.clientY);i&&i[F]._onDragOver({clientX:t.clientX,clientY:t.clientY,target:i,rootEl:i})}};function ve(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=Le({},t),e[F]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Z(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:L(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ve.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5};for(var n in i)!(n in t)&&(t[n]=i[n]);for(var o in se(t),this)"_"===o.charAt(0)&&"function"===typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Y,t.supportPointer?ge(e,"pointerdown",this._onTapStart):(ge(e,"mousedown",this._onTapStart),ge(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(ge(e,"dragover",this),ge(e,"dragenter",this)),P.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[])}function fe(e,t,i,n){if(e){i=i||V;do{if(">*"===t&&e.parentNode===i||Fe(e,t)||n&&e===i)return e;if(e===i)break}while(e=pe(e))}return null}function pe(e){return e.host&&e!==V&&e.host.nodeType?e.host:e.parentNode}function me(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function ge(e,t,i){e.addEventListener(t,i,j)}function be(e,t,i){e.removeEventListener(t,i,j)}function xe(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(I," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(I," ")}}function ye(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return V.defaultView&&V.defaultView.getComputedStyle?i=V.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=i+("string"===typeof i?"":"px")}}function we(e){var t="";do{var i=ye(e,"transform");i&&"none"!==i&&(t=i+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function Ce(e,t,i){if(e){var n=e.getElementsByTagName(t),o=0,s=n.length;if(i)for(;o<s;o++)i(n[o],o);return n}return[]}function _e(e,t,i,n,s,a,l,r,c){e=e||t[F];var d,u=e.options,h="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||H||z?(d=V.createEvent("Event"),d.initEvent(i,!0,!0)):d=new CustomEvent(i,{bubbles:!0,cancelable:!0}),d.to=s||t,d.from=a||t,d.item=n||t,d.clone=o,d.oldIndex=l,d.newIndex=r,d.originalEvent=c,t&&t.dispatchEvent(d),u[h]&&u[h].call(e,d)}function $e(e,t,i,n,o,s,a,l){var r,c,d=e[F],u=d.options.onMove;return!window.CustomEvent||H||z?(r=V.createEvent("Event"),r.initEvent("move",!0,!0)):r=new CustomEvent("move",{bubbles:!0,cancelable:!0}),r.to=t,r.from=e,r.dragged=i,r.draggedRect=n,r.related=o||t,r.relatedRect=s||He(t),r.willInsertAfter=l,r.originalEvent=a,e.dispatchEvent(r),u&&(c=u.call(d,r,a)),c}function Se(e){e.draggable=!1}function Ee(){q=!1}function ke(t,n,o){var s=0,a=0,l=t.children;while(a<l.length){if("none"!==l[a].style.display&&l[a]!==i&&l[a]!==e&&fe(l[a],o.draggable,t,!1)){if(s===n)return l[a];s++}a++}return null}function Te(e){var t=e.lastElementChild;return t===i&&(t=e.children[e.childElementCount-2]),t||null}function De(e,t,i){var n=He(Te(i)),o="vertical"===t?e.clientY:e.clientX,s="vertical"===t?e.clientX:e.clientY,a="vertical"===t?n.bottom:n.right,l="vertical"===t?n.left:n.top,r="vertical"===t?n.right:n.bottom;return s>l&&s<r&&o>a}function Pe(t,i,n,o,s,a,l){var r=He(i),c="vertical"===n?t.clientY:t.clientX,d="vertical"===n?r.height:r.width,u="vertical"===n?r.top:r.left,h="vertical"===n?r.bottom:r.right,v=He(e),f=!1;if(!a)if(l&&$<d*o)if(!O&&(1===C?c>u+d*s/2:c<h-d*s/2)&&(O=!0),O)f=!0;else{"vertical"===n?v.top:v.left,"vertical"===n?v.bottom:v.right;if(1===C?c<u+$:c>h-$)return-1*C}else if(c>u+d*(1-o)/2&&c<h-d*(1-o)/2)return c>u+d/2?-1:1;return f=f||a,f&&(c<u+d*s/2||c>h-d*s/2)?c>u+d/2?1:-1:0}function Oe(t,i){var n=Ie(e,i.draggable),o=Ie(t,i.draggable);return n<o?1:-1}function Me(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;while(i--)n+=t.charCodeAt(i);return n.toString(36)}function Ie(e,t){var i=0;if(!e||!e.parentNode)return-1;while(e&&(e=e.previousElementSibling))"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==o&&i++;return i}function Fe(e,t){if(e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(i){return!1}return!1}function Ne(e,t){return function(){if(!ue){var i=arguments,n=this;ue=A(function(){1===i.length?e.call(n,i[0]):e.apply(n,i),ue=void 0},t)}}}function Ve(){clearTimeout(ue),ue=void 0}function Le(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function Ae(e){return R&&R.dom?R.dom(e).cloneNode(!0):B?B(e).clone(!0)[0]:e.cloneNode(!0)}function Be(e){Q.length=0;var t=e.getElementsByTagName("input"),i=t.length;while(i--){var n=t[i];n.checked&&Q.push(n)}}function Re(e){return A(e,0)}function je(e){return clearTimeout(e)}function He(e,t,i){if(e.getBoundingClientRect||e===N){var n,o,s,a,l,r,c;if(e!==N?(n=e.getBoundingClientRect(),o=n.top,s=n.left,a=n.bottom,l=n.right,r=n.height,c=n.width):(o=0,s=0,a=window.innerHeight,l=window.innerWidth,r=window.innerHeight,c=window.innerWidth),i&&e!==N){if(t=t||e.parentNode,!H)do{if(t&&t.getBoundingClientRect&&"none"!==ye(t,"transform")){var d=t.getBoundingClientRect();o-=d.top+L(ye(t,"border-top-width")),s-=d.left+L(ye(t,"border-left-width")),a=o+n.height,l=s+n.width;break}}while(t=t.parentNode);var u=we(e),h=u&&u.a,v=u&&u.d;u&&(o/=v,s/=h,c/=h,r/=v,a=o+r,l=s+c)}return{top:o,left:s,bottom:a,right:l,width:c,height:r}}}function ze(e,t){var i=ie(i,!0),n=He(e)[t];while(i){var o,s=He(i)[t];if(o="top"===t||"left"===t?n>=s:n<=s,!o)return!0;if(i===N)break;i=ie(i,!1)}return!1}return V.addEventListener("dragover",he),V.addEventListener("mousemove",he),ve.prototype={constructor:ve,_computeIsAligned:function(t){var n;if(i&&!U?(ce(),n=V.elementFromPoint(t.clientX,t.clientY),de()):n=t.target,n=fe(n,this.options.draggable,this.el,!1),!W&&e&&e.parentNode===this.el){for(var o=this.el.children,s=0;s<o.length;s++)fe(o[s],this.options.draggable,this.el,!1)&&o[s]!==n&&(o[s].sortableMouseAligned=ee(t.clientX,t.clientY,o[s],this._getDirection(t,null),this.options));fe(n,this.options.draggable,this.el,!0)||(w=null),W=!0,A(function(){W=!1},30)}},_getDirection:function(t,i){return"function"===typeof this.options.direction?this.options.direction.call(this,t,i,e):this.options.direction},_onTapStart:function(t){if(t.cancelable){var i,n=this,o=this.el,s=this.options,a=s.preventOnFilter,r=t.type,c=t.touches&&t.touches[0],d=(c||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||d,h=s.filter;if(Be(o),(!H||t.artificialBubble||le(o,d))&&!e&&!(/mousedown|pointerdown/.test(r)&&0!==t.button||s.disabled)&&!u.isContentEditable)if(d=fe(d,s.draggable,o,!1),d){if(l!==d){if(i=Ie(d,s.draggable),"function"===typeof h){if(h.call(this,t,d,this))return _e(n,u,"filter",d,o,o,i),void(a&&t.cancelable&&t.preventDefault())}else if(h&&(h=h.split(",").some(function(e){if(e=fe(u,e.trim(),o,!1),e)return _e(n,e,"filter",d,o,o,i),!0}),h))return void(a&&t.cancelable&&t.preventDefault());s.handle&&!fe(u,s.handle,o,!1)||this._prepareDragStart(t,c,d,i)}}else H&&re(o,t,"_onTapStart")}},_handleAutoScroll:function(t,i){if(e&&this.options.scroll){var n=t.clientX,o=t.clientY,s=V.elementFromPoint(n,o),a=this;if(i||z||H){ne(t,a.options,s,i);var l=ie(s,!0);!k||p&&n===m&&o===g||(p&&clearInterval(p),p=setInterval(function(){if(e){var s=ie(V.elementFromPoint(n,o),!0);s!==l&&(l=s,oe(),ne(t,a.options,l,i))}},10),m=n,g=o)}else{if(!a.options.bubbleScroll||ie(s,!0)===window)return void oe();ne(t,a.options,ie(s,!1),!1)}}},_prepareDragStart:function(i,n,o,r){var c,d=this,h=d.el,f=d.options,p=h.ownerDocument;o&&!e&&o.parentNode===h&&(s=h,e=o,t=e.parentNode,a=e.nextSibling,l=o,v=f.group,u=r,b={target:e,clientX:(n||i).clientX,clientY:(n||i).clientY},this._lastX=(n||i).clientX,this._lastY=(n||i).clientY,e.style["will-change"]="all",e.style.transition="",e.style.transform="",c=function(){d._disableDelayedDrag(),e.draggable=d.nativeDraggable,d._triggerDragStart(i,n),_e(d,s,"choose",e,s,s,u),xe(e,f.chosenClass,!0)},f.ignore.split(",").forEach(function(t){Ce(e,t.trim(),Se)}),f.supportPointer?(ge(p,"pointerup",d._onDrop),ge(p,"pointercancel",d._onDrop)):(ge(p,"mouseup",d._onDrop),ge(p,"touchend",d._onDrop),ge(p,"touchcancel",d._onDrop)),f.delay?(ge(p,"mouseup",d._disableDelayedDrag),ge(p,"touchend",d._disableDelayedDrag),ge(p,"touchcancel",d._disableDelayedDrag),ge(p,"mousemove",d._delayedDragTouchMoveHandler),ge(p,"touchmove",d._delayedDragTouchMoveHandler),f.supportPointer&&ge(p,"pointermove",d._delayedDragTouchMoveHandler),d._dragStartTimer=A(c,f.delay)):c())},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;G(K(t.clientX-this._lastX),K(t.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),be(e,"mouseup",this._disableDelayedDrag),be(e,"touchend",this._disableDelayedDrag),be(e,"touchcancel",this._disableDelayedDrag),be(e,"mousemove",this._delayedDragTouchMoveHandler),be(e,"touchmove",this._delayedDragTouchMoveHandler),be(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,i){i=i||("touch"==t.pointerType?t:null),!this.nativeDraggable||i?this.options.supportPointer?ge(V,"pointermove",this._onTouchMove):ge(V,i?"touchmove":"mousemove",this._onTouchMove):(ge(e,"dragend",this),ge(s,"dragstart",this._onDragStart));try{V.selection?Re(function(){V.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(t){if(T=!1,s&&e){this.nativeDraggable&&(ge(V,"dragover",this._handleAutoScroll),ge(V,"dragover",ae));var i=this.options;!t&&xe(e,i.dragClass,!1),xe(e,i.ghostClass,!0),ye(e,"transform",""),ve.active=this,t&&this._appendGhost(),_e(this,s,"start",e,s,s,u)}else this._nulling()},_emulateDragOver:function(t){if(x){if(this._lastX===x.clientX&&this._lastY===x.clientY&&!t)return;this._lastX=x.clientX,this._lastY=x.clientY,ce();var i=V.elementFromPoint(x.clientX,x.clientY),n=i;while(i&&i.shadowRoot)i=i.shadowRoot.elementFromPoint(x.clientX,x.clientY),n=i;if(n)do{var o;if(n[F])if(o=n[F]._onDragOver({clientX:x.clientX,clientY:x.clientY,target:i,rootEl:n}),o&&!this.options.dragoverBubble)break;i=n}while(n=n.parentNode);e.parentNode[F]._computeIsAligned(x),de()}},_onTouchMove:function(e){if(b){if(!e.cancelable)return;var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,s=e.touches?e.touches[0]:e,a=i&&we(i),l=i&&a&&a.a,r=i&&a&&a.d,c=(s.clientX-b.clientX+o.x)/(l||1),d=(s.clientY-b.clientY+o.y)/(r||1),u=e.touches?"translate3d("+c+"px,"+d+"px,0)":"translate("+c+"px,"+d+"px)";if(!ve.active&&!T){if(n&&G(K(s.clientX-this._lastX),K(s.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}this._handleAutoScroll(s,!0),y=!0,x=s,ye(i,"webkitTransform",u),ye(i,"mozTransform",u),ye(i,"msTransform",u),ye(i,"transform",u),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!i){var t=He(e,this.options.fallbackOnBody?V.body:s,!0),n=(ye(e),this.options);i=e.cloneNode(!0),xe(i,n.ghostClass,!1),xe(i,n.fallbackClass,!0),xe(i,n.dragClass,!0),ye(i,"box-sizing","border-box"),ye(i,"margin",0),ye(i,"top",t.top),ye(i,"left",t.left),ye(i,"width",t.width),ye(i,"height",t.height),ye(i,"opacity","0.8"),ye(i,"position","fixed"),ye(i,"zIndex","100000"),ye(i,"pointerEvents","none"),n.fallbackOnBody&&V.body.appendChild(i)||s.appendChild(i)}},_onDragStart:function(t,i){var n=this,a=t.dataTransfer,l=n.options;o=Ae(e),o.draggable=!1,o.style["will-change"]="",this._hideClone(),xe(o,n.options.chosenClass,!1),n._cloneId=Re(function(){n.options.removeCloneOnHide||s.insertBefore(o,e),_e(n,s,"clone",e)}),!i&&xe(e,l.dragClass,!0),i?(D=!0,n._loopId=setInterval(n._emulateDragOver,50)):(be(V,"mouseup",n._onDrop),be(V,"touchend",n._onDrop),be(V,"touchcancel",n._onDrop),be(V,"pointercancel",n._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(n,a,e)),ge(V,"drop",n),ye(e,"transform","translateZ(0)")),T=!0,n._dragStartId=Re(n._dragStarted.bind(n,i)),ge(V,"selectstart",n)},_onDragOver:function(n){var o,l,r,c=this.el,d=n.target,h=this.options,p=h.group,m=ve.active,g=v===p,b=h.sort,x=this;if(!q&&(!H||n.rootEl||n.artificialBubble||le(c,d))){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),y=!0,d=fe(d,h.draggable,c,!0),fe(n.target,null,e,!0)||d.animated)return z();if(d!==e&&(D=!1),m&&!h.disabled&&(g?b||(r=!s.contains(e)):f===this||(this.lastPutMode=v.checkPull(this,m,e,n))&&p.checkPut(this,m,e,n))){var E=this._getDirection(n,d);if(o=He(e),r)return this._hideClone(),t=s,a?s.insertBefore(e,a):s.appendChild(e),z();if(0===c.children.length||c.children[0]===i||De(n,E,c)&&!e.animated){if(0!==c.children.length&&c.children[0]!==i&&c===n.target&&(d=Te(c)),d&&(l=He(d)),g?m._hideClone():m._showClone(this),!1!==$e(s,c,e,o,d,l,n,!!d))return c.appendChild(e),t=c,S=null,X(),this._animate(o,e),d&&this._animate(l,d),z()}else if(d&&d!==e&&void 0!==d.parentNode[F]&&d!==c){var T,P=0,I=d.sortableMouseAligned,N=e.parentNode!==c,L=ze(d,"vertical"===E?"top":"left");if(w!==d&&(_=null,T=He(d)["vertical"===E?"top":"left"],O=!1),te(e,d,E)&&I||N||L||h.invertSwap||"insert"===_||"swap"===_?("swap"!==_&&(M=h.invertSwap||N||k||L),P=Pe(n,d,E,h.swapThreshold,null==h.invertedSwapThreshold?h.swapThreshold:h.invertedSwapThreshold,M,w===d),_="swap"):(P=Oe(d,h),_="insert"),0===P)return z();S=null,w=d,C=P,l=He(d);var B=d.nextElementSibling,R=!1;R=1===P;var j=$e(s,c,e,o,d,l,n,R);if(!1!==j)return 1!==j&&-1!==j||(R=1===j),q=!0,A(Ee,30),g?m._hideClone():m._showClone(this),R&&!B?c.appendChild(e):d.parentNode.insertBefore(e,R?B:d),t=e.parentNode,void 0===T||M||($=K(T-He(d)["vertical"===E?"top":"left"])),X(),!N&&this._animate(l,d),this._animate(o,e),z()}if(c.contains(e))return z()}return H&&!n.rootEl&&re(c,n,"_onDragOver"),!1}function z(){return m&&(xe(e,f?f.options.ghostClass:m.options.ghostClass,!1),xe(e,h.ghostClass,!0)),f!==x&&x!==ve.active?f=x:x===ve.active&&(f=null),(d===e&&!e.animated||d===c&&!d.animated)&&(w=null),h.dragoverBubble||n.rootEl||d===V||(x._handleAutoScroll(n),e.parentNode[F]._computeIsAligned(n)),!h.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),!0}function X(){_e(x,s,"change",d,c,s,u,Ie(e,h.draggable),n)}},_animate:function(t,i){var n=this.options.animation;if(n){var o=He(i);if(i===e&&(S=o),1===t.nodeType&&(t=He(t)),t.left+t.width/2!==o.left+o.width/2||t.top+t.height/2!==o.top+o.height/2){var s=we(this.el),a=s&&s.a,l=s&&s.d;ye(i,"transition","none"),ye(i,"transform","translate3d("+(t.left-o.left)/(a||1)+"px,"+(t.top-o.top)/(l||1)+"px,0)"),i.offsetWidth,ye(i,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),ye(i,"transform","translate3d(0,0,0)")}"number"===typeof i.animated&&clearTimeout(i.animated),i.animated=A(function(){ye(i,"transition",""),ye(i,"transform",""),i.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;be(V,"touchmove",this._onTouchMove),be(V,"pointermove",this._onTouchMove),be(e,"mouseup",this._onDrop),be(e,"touchend",this._onDrop),be(e,"pointerup",this._onDrop),be(e,"touchcancel",this._onDrop),be(e,"pointercancel",this._onDrop),be(V,"selectstart",this)},_onDrop:function(n){var l=this.el,r=this.options;T=!1,k=!1,M=!1,O=!1,clearInterval(this._loopId),clearInterval(p),oe(),Ve(),clearTimeout(this._dragStartTimer),je(this._cloneId),je(this._dragStartId),be(V,"mousemove",this._onTouchMove),this.nativeDraggable&&(be(V,"drop",this),be(l,"dragstart",this._onDragStart),be(V,"dragover",this._handleAutoScroll),be(V,"dragover",ae)),this._offUpEvents(),n&&(y&&(n.cancelable&&n.preventDefault(),!r.dropBubble&&n.stopPropagation()),i&&i.parentNode&&i.parentNode.removeChild(i),(s===t||f&&"clone"!==f.lastPutMode)&&o&&o.parentNode&&o.parentNode.removeChild(o),e&&(this.nativeDraggable&&be(e,"dragend",this),Se(e),e.style["will-change"]="",xe(e,f?f.options.ghostClass:this.options.ghostClass,!1),xe(e,this.options.chosenClass,!1),_e(this,s,"unchoose",e,t,s,u,null,n),s!==t?(h=Ie(e,r.draggable),h>=0&&(_e(null,t,"add",e,t,s,u,h,n),_e(this,s,"remove",e,t,s,u,h,n),_e(null,t,"sort",e,t,s,u,h,n),_e(this,s,"sort",e,t,s,u,h,n)),f&&f.save()):e.nextSibling!==a&&(h=Ie(e,r.draggable),h>=0&&(_e(this,s,"update",e,t,s,u,h,n),_e(this,s,"sort",e,t,s,u,h,n))),ve.active&&(null!=h&&-1!==h||(h=u),_e(this,s,"end",e,t,s,u,h,n),this.save()))),this._nulling()},_nulling:function(){s=e=t=i=a=o=l=r=c=E.length=p=m=g=b=x=y=h=u=w=C=S=f=v=ve.active=null,Q.forEach(function(e){e.checked=!0}),Q.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":e&&(this._onDragOver(t),me(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,o=i.length,s=this.options;n<o;n++)e=i[n],fe(e,s.draggable,this.el,!1)&&t.push(e.getAttribute(s.dataIdAttr)||Me(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,n){var o=i.children[n];fe(o,this.options.draggable,i,!1)&&(t[e]=o)},this),e.forEach(function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return fe(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];i[e]=t,"group"===e&&se(i)},destroy:function(){var e=this.el;e[F]=null,be(e,"mousedown",this._onTapStart),be(e,"touchstart",this._onTapStart),be(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(be(e,"dragover",this),be(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),P.splice(P.indexOf(this.el),1),this.el=e=null},_hideClone:function(){o.cloneHidden||(ye(o,"display","none"),o.cloneHidden=!0,o.parentNode&&this.options.removeCloneOnHide&&o.parentNode.removeChild(o))},_showClone:function(t){"clone"===t.lastPutMode?o.cloneHidden&&(s.contains(e)&&!this.options.group.revertClone?s.insertBefore(o,e):a?s.insertBefore(o,a):s.appendChild(o),this.options.group.revertClone&&this._animate(e,o),ye(o,"display",""),o.cloneHidden=!1):this._hideClone()}},ge(V,"touchmove",function(e){(ve.active||T)&&e.cancelable&&e.preventDefault()}),ve.utils={on:ge,off:be,css:ye,find:Ce,is:function(e,t){return!!fe(e,t,e,!1)},extend:Le,throttle:Ne,closest:fe,toggleClass:xe,clone:Ae,index:Ie,nextTick:Re,cancelNextTick:je,detectDirection:Z,getChild:ke},ve.create=function(e,t){return new ve(e,t)},ve.version="1.8.1",ve})}).call(this,i("1157"))},"6cf8":function(e,t,i){!function(t,n){e.exports=n(i("1157"),i("7130"),i("a01a"))}("undefined"!=typeof self&&self,function(e,t,i){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3)}([function(t,i){t.exports=e},function(e,i){e.exports=t},function(e,t){e.exports=i},function(e,t,i){"use strict";i.r(t);var n=i(0),o=i.n(n),s=(i(2),i(1)),a=["init","focus","blur","change","resize","paste","openfullscreen","closefullscreen","close"],l={name:"trumbowyg",render:function(e){return e("textarea")},props:{value:{default:null,required:!0,validator:function(e){return null===e||"string"==typeof e||e instanceof String}},config:{type:Object,default:function(){return{}}},svgPath:{type:[String,Boolean],default:i.n(s).a}},data:function(){return{el:null}},mounted:function(){this.el||(this.el=o()(this.$el),this.el.trumbowyg(o.a.extend(!0,{},{svgPath:this.svgPath},this.config)),this.el.trumbowyg("html",this.value),this.el.on("".concat("tbw","change"),this.onChange),this.el.on("".concat("tbw","blur"),this.onBlur),this.registerEvents())},watch:{value:function(e){this.el&&e!==this.el.trumbowyg("html")&&this.el.trumbowyg("html",e)}},methods:{onChange:function(e){this.$emit("input",e.target.value)},onBlur:function(e){this.$emit("blur",e.target.value)},registerEvents:function(){var e=this;a.forEach(function(t){e.el.on("".concat("tbw").concat(t),function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];e.$emit.apply(e,["".concat("tbw","-").concat(t)].concat(n))})})}},beforeDestroy:function(){this.el&&(this.el.trumbowyg("destroy"),this.el=null)}};i.d(t,"trumbowygPlugin",function(){return r}),i.d(t,"component",function(){return l});var r=function(e,t){var i="trumbowyg";"string"==typeof t&&(i=t),e.component(i,l)};l.install=r,t.default=l}])})},7589:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",["insert"===e.action?i("portal",{attrs:{to:"devise-root"}},[i("div",{staticClass:"dvs-blocker",on:{click:e.cancelManageSlice}}),i("panel",{staticClass:"dvs-fixed dvs-absolute-center dvs-mx-8 dvs-mb-8 dvs-z-40 dvs-w-4/5",attrs:{"panel-style":e.theme.panel}},[i("div",{staticClass:"dvs-p-8 dvs-pt-16"},[null===e.insertSlice.type?i("h3",{staticClass:"dvs-mb-8",style:{color:e.theme.panel.color}},[e._v("Choose Type of New Slice")]):e._e(),i("transition",{attrs:{name:"dvs-fade"}},[null===e.insertSlice.type?i("div",{staticClass:"dvs-flex dvs-justify-between dvs-items-stretch"},[i("div",{staticClass:"dvs-btn dvs-text-base dvs-mr-4 dvs-p-8 dvs-w-1/2",style:e.theme.actionButtonGhost,on:{click:function(t){e.insertSlice.type="single"}}},[i("h4",{staticClass:"dvs-border-b dvs-pb-2 dvs-mb-6 dvs-mx-8",style:{borderColor:e.theme.actionButtonGhost.color,color:e.theme.actionButtonGhost.color}},[e._v("Single Slice")]),i("p",{staticClass:"dvs-normal-case dvs-font-normal"},[e._v("A single slice-type is just one instance of the slice you're choosing to insert")])]),i("div",{staticClass:"dvs-btn dvs-text-base dvs-ml-4 dvs-p-8 dvs-w-1/2",style:e.theme.actionButtonGhost,on:{click:function(t){e.insertSlice.type="model"}}},[i("h4",{staticClass:"dvs-border-b dvs-pb-2 dvs-mb-6 dvs-mx-8",style:{borderColor:e.theme.actionButtonGhost.color,color:e.theme.actionButtonGhost.color}},[e._v("Repeats from Database")]),i("p",{staticClass:"dvs-normal-case dvs-font-normal"},[e._v("Slices will repeat on the page based data you define in the next steps.")])])]):i("div",[i("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[i("slice-selector",{model:{value:e.insertSlice.slice,callback:function(t){e.$set(e.insertSlice,"slice",t)},expression:"insertSlice.slice"}})],1),"model"===e.insertSlice.type?i("div",{staticClass:"dvs-mb-4"},[i("query-builder",{model:{value:e.insertSlice.data,callback:function(t){e.$set(e.insertSlice,"data",t)},expression:"insertSlice.data"}})],1):e._e(),i("div",{staticClass:"dvs-absolute dvs-z-10 dvs-pin-b dvs-pin-l dvs-pin-r dvs-p-8",style:e.theme.panelCard},[i("button",{staticClass:"dvs-btn",style:e.theme.actionButton,on:{click:e.addSlice}},[e._v("Insert")]),i("button",{staticClass:"dvs-btn",style:e.theme.actionButtonGhost,on:{click:e.cancelManageSlice}},[e._v("Cancel")])])])])],1)])],1):e._e(),"edit"===e.action?i("portal",{attrs:{to:"devise-root"}},[i("div",{staticClass:"dvs-blocker",on:{click:e.cancelManageSlice}}),i("panel",{staticClass:"dvs-fixed dvs-absolute-center dvs-mx-8 dvs-mb-8 dvs-z-40 dvs-w-4/5",attrs:{"panel-style":e.theme.panel}},[i("div",{staticClass:"dvs-p-8"},[i("h3",{staticClass:"dvs-mb-8"},[e._v("Edit Slice Settings")]),i("div",[i("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[i("label",[e._v("Type of Slice")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.insertSlice.type,expression:"insertSlice.type"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.insertSlice,"type",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"single"}},[e._v("Single")]),i("option",{attrs:{value:"model"}},[e._v("Model")])])]),i("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[i("label",[e._v("Select a Slice")]),i("slice-selector",{model:{value:e.insertSlice.slice,callback:function(t){e.$set(e.insertSlice,"slice",t)},expression:"insertSlice.slice"}})],1),"model"===e.insertSlice.type?i("div",{staticClass:"dvs-mb-4"},[i("query-builder",{model:{value:e.insertSlice.data,callback:function(t){e.$set(e.insertSlice,"data",t)},expression:"insertSlice.data"}})],1):e._e(),i("div",[i("button",{staticClass:"dvs-btn",style:e.theme.actionButton,on:{click:e.editSlice}},[e._v("Edit")]),i("button",{staticClass:"dvs-btn",style:e.theme.actionButtonGhost,on:{click:e.cancelManageSlice}},[e._v("Cancel")])])])])])],1):e._e()],1)},o=[],s=(i("7f7f"),i("cebc")),a=i("5176"),l=i.n(a),r=i("2f62"),c={methods:{buildSliceDirectoryOptions:function(e,t){t.files.length>0&&(e[t.name]=[],e[t.name]=t.files);for(var i=0;i<t.directories.length;i+1)e=l()({},e,this.buildSliceDirectoryOptions(e,t.directories[i]));return e}},computed:{sliceDirectoriesOptions:function(){var e={};return this.slicesDirectories.files&&(this.slicesDirectories.files.length>0||this.slicesDirectories.directories.length>0)&&(e=this.buildSliceDirectoryOptions(e,this.slicesDirectories)),e}}},d={type:null,slice:null,data:{name:"modelData",model:null,modelQuery:null}},u={data:function(){return{action:"insert",insertSlice:l()({},d)}},mounted:function(){var e=this;this.getSlicesDirectories(),this.$nextTick(function(){"edit"===e.action&&(e.insertSlice.type=e.slice.metadata.type)})},methods:Object(s["a"])({},Object(r["b"])("devise",["getSlicesDirectories","getModelSettings"]),{cancelManageSlice:function(){this.$set(this,"action","insert"),this.$set(this,"insertSlice",d),this.$emit("cancel"),this.action="insert"},buildSlice:function(){var e=this.componentFromView(this.insertSlice.slice.value),t={settings:{enabled:!0},metadata:{instance_id:0,label:this.insertSlice.slice.name,model_query:this.insertSlice.data.modelQuery?"class=".concat(this.insertSlice.data.modelQuery):null,name:e.name,type:this.insertSlice.type,view:e.view,has_child_slot:e.has_child_slot}};for(var i in e.fields)if(e.fields.hasOwnProperty(i)){var n=e.fields[i].default;t[i]={},this.addMissingProperty(t,i),this.setDefaults(t,i,n)}return t},addMissingProperty:function(e,t){this.$set(e,t,{text:null,url:null,target:null,color:null,checked:null,enabled:null})},setDefaults:function(e,t,i){for(var n in i)i.hasOwnProperty(n)&&this.$set(e[t],n,i[n])},addSlice:function(){this.$emit("addSlice",this.buildSlice()),this.action="selectAction"},editSlice:function(){this.$emit("editSlice",this.buildSlice()),this.action="selectAction"},removeSlice:function(){this.$emit("removeSlice"),this.action="selectAction"}}),computed:Object(s["a"])({},Object(r["c"])("devise",["componentFromView","slicesDirectories"])),props:{slice:{type:Object|String}},components:{Panel:function(){return Promise.all([i.e("devise-editors~devise-utilities"),i.e("devise-utilities")]).then(i.bind(null,"cb57"))},QueryBuilder:function(){return Promise.all([i.e("devise-editors~devise-utilities"),i.e("devise-utilities")]).then(i.bind(null,"a5dc"))},SliceSelector:function(){return i.e("devise-slices").then(i.bind(null,"8795"))}},mixins:[c]},h=u,v=i("0c7c"),f=Object(v["a"])(h,n,o,!1,null,null,null);t["default"]=f.exports},"965e":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("field-editor",{attrs:{options:e.options,showEditor:e.showEditor},on:{toggleShowEditor:e.toggleEditor,cancel:e.cancel,resetvalue:e.resetValue,change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[i("template",{slot:"preview"},[null===e.url||""===e.url?i("span",{staticClass:"dvs-italic"},[e._v("Currently No Value")]):e._e(),i("img",{staticClass:"dvs-max-w-2xs",attrs:{src:e.url,alt:e.url}}),i("br")]),i("template",{slot:"editor"},[i("label",{staticClass:"dvs-mb-2 dvs-block"},[e._v("Image Tool To Use:")]),i("div",{staticClass:"dvs-flex dvs-mb-2"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],staticClass:"dvs-w-auto dvs-mr-2",attrs:{type:"radio",value:"media"},domProps:{checked:e._q(e.mode,"media")},on:{change:function(t){e.mode="media"}}}),e._v("\n        Media Manager\n      ")])]),i("div",{staticClass:"dvs-flex dvs-mb-8"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],staticClass:"dvs-w-auto dvs-mr-2",attrs:{type:"radio",value:"manual"},domProps:{checked:e._q(e.mode,"manual")},on:{change:function(t){e.mode="manual"}}}),e._v("\n        Manual URL\n      ")])]),"manual"===e.mode?i("fieldset",{staticClass:"dvs-fieldset"},[i("label",[e._v("URL")]),i("div",{staticClass:"dvs-flex dvs-items-center"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],attrs:{type:"text"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}})])]):i("fieldset",{staticClass:"dvs-fieldset"},[i("div",{staticClass:"flex"},[e.value.url?i("div",{staticClass:"dvs-mb-8 dvs-mr-4",on:{click:function(t){return e.launchMediaEditor(t)}}},[i("button",{staticClass:"dvs-btn",style:e.theme.actionButton},[e._v("Edit Current Media")])]):e._e(),i("div",{staticClass:"dvs-mb-8 dvs-mr-4",on:{click:function(t){return e.launchMediaManager(t)}}},[i("button",{staticClass:"dvs-btn",style:e.theme.actionButton},[e._v("Select New Media")])])]),i("div",{staticClass:"dvs-flex dvs-items-center"},[e.hasMedia?i("div",[i("div",{staticClass:"dvs-mb-4 uppercase font-bold text-sm"},[e._v("Media sizes")]),i("div",{staticClass:"dvs-flex dvs-flex-wrap"},e._l(e.media,function(t,n){return i("div",{key:n,staticClass:"dvs-uppercase dvs-text-center dvs-mr-4 dvs-mb-4 dvs-p-4",style:e.theme.panelCard},[i("img",{staticClass:"mb-2",staticStyle:{width:"100px",height:"auto"},attrs:{src:t+"?buster="+(new Date).getTime()}}),i("div",{staticClass:"dvs-text-xs"},[e._v(e._s(n)+" "+e._s(e.getDimensions(n)))])])}),0)]):e._e()])]),i("fieldset",{staticClass:"dvs-fieldset"},[i("label",{staticClass:"dvs-mt-4"},[e._v("Alt Tag")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.alt,expression:"alt"}],attrs:{type:"text"},domProps:{value:e.alt},on:{input:function(t){t.target.composing||(e.alt=t.target.value)}}})])])],2)},o=[],s=i("a4bb"),a=i.n(s),l=i("7618"),r=i("5176"),c=i.n(r),d=i("a7b1"),u={name:"ImageEditor",data:function(){return{originalValue:null,showEditor:!1}},mounted:function(){this.originalValue=c()({},this.value)},methods:{toggleEditor:function(){"manual"!==this.mode&&this.$set(this,"mode","media"),this.showEditor=!this.showEditor},cancel:function(){this.url=this.originalValue.url,this.alt=this.originalValue.alt,this.media=this.originalValue.media,this.settings=this.originalValue.settings,this.enabled=this.originalValue.enabled,this.mode=this.originalValue.mode,this.toggleEditor()},resetValue:function(){this.url=null,this.enabled=!1,this.alt=null,this.media=[],this.settings={},this.mode="media"},launchMediaManager:function(){this.options.type="image",window.deviseSettings.$bus.$emit("devise-launch-media-manager",{callback:this.mediaSelected,options:this.options})},mediaSelected:function(e){"object"===Object(l["a"])(e)?(this.url=e.images.orig_optimized,this.media=e.images,this.settings=e.settings):this.url=e},launchMediaEditor:function(){this.options.type="image",window.deviseSettings.$bus.$emit("devise-launch-media-editor",{callback:this.mediaSelected,options:this.options,image:this.value.media.original,settings:this.settings})},getDimensions:function(e){return!(!this.value.sizes||!this.value.sizes[e])&&"(".concat(this.value.sizes[e].w," x ").concat(this.value.sizes[e].h,")")}},computed:{url:{get:function(){return this.value.url},set:function(e){var t=c()(this.value,{url:e});this.$emit("input",t),this.$emit("change",t)}},alt:{get:function(){return this.value.alt},set:function(e){var t=c()(this.value,{alt:e});this.$emit("input",t),this.$emit("change",t)}},mode:{get:function(){if("media"!==this.value.mode&&"manual"!==this.value.mode){var e=c()(this.value,{mode:"media"});this.$emit("input",e),this.$emit("change",e)}return this.value.mode},set:function(e){var t=c()(this.value,{mode:e});this.$emit("input",t),this.$emit("change",t)}},media:{get:function(){return this.value.media},set:function(e){var t=c()(this.value,{media:e});this.$emit("input",t),this.$emit("change",t)}},settings:{get:function(){return this.value.settings},set:function(e){var t=c()(this.value,{settings:e});this.$emit("input",t),this.$emit("change",t)}},hasMedia:function(){return a()(this.media).length>0}},props:["value","options"],components:{FieldEditor:function(){return Promise.resolve().then(i.bind(null,"41b8"))}},mixins:[d["a"]]},h=u,v=i("0c7c"),f=Object(v["a"])(h,n,o,!1,null,null,null);t["default"]=f.exports},a01a:function(e,t,i){(function(e){
/**
 * Trumbowyg v2.14.0 - A lightweight WYSIWYG editor
 * Trumbowyg core file
 * ------------------------
 * @link http://alex-d.github.io/Trumbowyg
 * @license MIT
 * @author Alexandre Demode (Alex-D)
 *         Twitter : @AlexandreDemode
 *         Website : alex-d.fr
 */
e.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Stroke",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target",width:"Width"}},plugins:{},svgPath:null,hideButtonTexts:null},Object.defineProperty(e.trumbowyg,"defaultOptions",{value:{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,autogrowOnEnter:!1,imageWidthModalEdit:!1,prefix:"trumbowyg-",semantic:!0,resetCss:!1,removeformatPasted:!1,tagsToRemove:[],tagsToKeep:["hr","img","embed","iframe","input"],btns:[["viewHTML"],["undo","redo"],["formatting"],["strong","em","del"],["superscript","subscript"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],plugins:{},urlProtocol:!1,minimalLinks:!1},writable:!1,enumerable:!0,configurable:!1}),function(e,t,i,n){"use strict";var o="tbwconfirm",s="tbwcancel";n.fn.trumbowyg=function(e,t){var i="trumbowyg";if(e===Object(e)||!e)return this.each(function(){n(this).data(i)||n(this).data(i,new a(this,e))});if(1===this.length)try{var o=n(this).data(i);switch(e){case"execCmd":return o.execCmd(t.cmd,t.param,t.forceCss);case"openModal":return o.openModal(t.title,t.content);case"closeModal":return o.closeModal();case"openModalInsert":return o.openModalInsert(t.title,t.fields,t.callback);case"saveRange":return o.saveRange();case"getRange":return o.range;case"getRangeText":return o.getRangeText();case"restoreRange":return o.restoreRange();case"enable":return o.setDisabled(!1);case"disable":return o.setDisabled(!0);case"toggle":return o.toggle();case"destroy":return o.destroy();case"empty":return o.empty();case"html":return o.html(t)}}catch(s){}return!1};var a=function(o,s){var a=this,l="trumbowyg-icons",r=n.trumbowyg;a.doc=o.ownerDocument||i,a.$ta=n(o),a.$c=n(o),s=s||{},null!=s.lang||null!=r.langs[s.lang]?a.lang=n.extend(!0,{},r.langs.en,r.langs[s.lang]):a.lang=r.langs.en,a.hideButtonTexts=null!=r.hideButtonTexts?r.hideButtonTexts:s.hideButtonTexts;var c=null!=r.svgPath?r.svgPath:s.svgPath;if(a.hasSvg=!1!==c,a.svgPath=a.doc.querySelector("base")?t.location.href.split("#")[0]:"",0===n("#"+l,a.doc).length&&!1!==c){if(null==c){for(var d=i.getElementsByTagName("script"),u=0;u<d.length;u+=1){var h=d[u].src,v=h.match("trumbowyg(.min)?.js");null!=v&&(c=h.substring(0,h.indexOf(v[0]))+"ui/icons.svg")}null==c&&console.warn("You must define svgPath: https://goo.gl/CfTY9U")}var f=a.doc.createElement("div");f.id=l,a.doc.body.insertBefore(f,a.doc.body.childNodes[0]),n.ajax({async:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"xml",crossDomain:!0,url:c,data:null,beforeSend:null,complete:null,success:function(e){f.innerHTML=(new XMLSerializer).serializeToString(e.documentElement)}})}var p=a.lang.header,m=function(){return(t.chrome||t.Intl&&Intl.v8BreakIterator)&&"CSS"in t};a.btnsDef={viewHTML:{fn:"toggle",class:"trumbowyg-not-disable"},undo:{isSupported:m,key:"Z"},redo:{isSupported:m,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:p+" 1"},h2:{fn:"formatBlock",title:p+" 2"},h3:{fn:"formatBlock",title:p+" 3"},h4:{fn:"formatBlock",title:p+" 4"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B",tag:"b"},italic:{key:"I",tag:"i"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{class:"trumbowyg-not-disable"},close:{fn:"destroy",class:"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},a.o=n.extend(!0,{},r.defaultOptions,s),a.o.hasOwnProperty("imgDblClickHandler")||(a.o.imgDblClickHandler=a.getDefaultImgDblClickHandler()),a.urlPrefix=a.setupUrlPrefix(),a.disabled=a.o.disabled||"TEXTAREA"===o.nodeName&&o.disabled,s.btns?a.o.btns=s.btns:a.o.semantic||(a.o.btns[3]=["bold","italic","underline","strikethrough"]),n.each(a.o.btnsDef,function(e,t){a.addBtnDef(e,t)}),a.eventNamespace="trumbowyg-event",a.keys=[],a.tagToButton={},a.tagHandlers=[],a.pasteHandlers=[].concat(a.o.pasteHandlers),a.isIE=-1!==e.userAgent.indexOf("MSIE")||-1!==e.appVersion.indexOf("Trident/"),a.init()};a.prototype={DEFAULT_SEMANTIC_MAP:{b:"strong",i:"em",s:"del",strike:"del",div:"p"},init:function(){var e=this;e.height=e.$ta.height(),e.initPlugins();try{e.doc.execCommand("enableObjectResizing",!1,!1),e.doc.execCommand("defaultParagraphSeparator",!1,"p")}catch(t){}e.buildEditor(),e.buildBtnPane(),e.fixedBtnPaneEvents(),e.buildOverlay(),setTimeout(function(){e.disabled&&e.setDisabled(!0),e.$c.trigger("tbwinit")})},addBtnDef:function(e,t){this.btnsDef[e]=t},setupUrlPrefix:function(){var e=this.o.urlProtocol;if(e)return"string"!==typeof e?"https://":/:\/\/$/.test(e)?e:e+"://"},buildEditor:function(){var e=this,i=e.o.prefix,o="";e.$box=n("<div/>",{class:i+"box "+i+"editor-visible "+i+e.o.lang+" trumbowyg"}),e.isTextarea=e.$ta.is("textarea"),e.isTextarea?(o=e.$ta.val(),e.$ed=n("<div/>"),e.$box.insertAfter(e.$ta).append(e.$ed,e.$ta)):(e.$ed=e.$ta,o=e.$ed.html(),e.$ta=n("<textarea/>",{name:e.$ta.attr("id"),height:e.height}).val(o),e.$box.insertAfter(e.$ed).append(e.$ta,e.$ed),e.syncCode()),e.$ta.addClass(i+"textarea").attr("tabindex",-1),e.$ed.addClass(i+"editor").attr({contenteditable:!0,dir:e.lang._dir||"ltr"}).html(o),e.o.tabindex&&e.$ed.attr("tabindex",e.o.tabindex),e.$c.is("[placeholder]")&&e.$ed.attr("placeholder",e.$c.attr("placeholder")),e.$c.is("[spellcheck]")&&e.$ed.attr("spellcheck",e.$c.attr("spellcheck")),e.o.resetCss&&e.$ed.addClass(i+"reset-css"),e.o.autogrow||e.$ta.add(e.$ed).css({height:e.height}),e.semanticCode(),e.o.autogrowOnEnter&&e.$ed.addClass(i+"autogrow-on-enter");var s,a=!1,l=!1,r="keyup";e.$ed.on("dblclick","img",e.o.imgDblClickHandler).on("keydown",function(t){if((t.ctrlKey||t.metaKey)&&!t.altKey){a=!0;var i=e.keys[String.fromCharCode(t.which).toUpperCase()];try{return e.execCmd(i.fn,i.param),!1}catch(n){}}}).on("compositionstart compositionupdate",function(){l=!0}).on(r+" compositionend",function(t){if("compositionend"===t.type)l=!1;else if(l)return;var i=t.which;if(!(i>=37&&i<=40)){if(!t.ctrlKey&&!t.metaKey||89!==i&&90!==i)if(a||17===i)"undefined"===typeof t.which&&e.semanticCode(!1,!1,!0);else{var n=!e.isIE||"compositionend"===t.type;e.semanticCode(!1,n&&13===i),e.$c.trigger("tbwchange")}else e.semanticCode(!1,!0),e.$c.trigger("tbwchange");setTimeout(function(){a=!1},50)}}).on("mouseup keydown keyup",function(t){(!t.ctrlKey&&!t.metaKey||t.altKey)&&setTimeout(function(){a=!1},50),clearTimeout(s),s=setTimeout(function(){e.updateButtonPaneStatus()},50)}).on("focus blur",function(t){if(e.$c.trigger("tbw"+t.type),"blur"===t.type&&n("."+i+"active-button",e.$btnPane).removeClass(i+"active-button "+i+"active"),e.o.autogrowOnEnter){if(e.autogrowOnEnterDontClose)return;"focus"===t.type?(e.autogrowOnEnterWasFocused=!0,e.autogrowEditorOnEnter()):e.o.autogrow||(e.$ed.css({height:e.$ed.css("min-height")}),e.$c.trigger("tbwresize"))}}).on("cut drop",function(){setTimeout(function(){e.semanticCode(!1,!0),e.$c.trigger("tbwchange")},0)}).on("paste",function(i){if(e.o.removeformatPasted){i.preventDefault(),t.getSelection&&t.getSelection().deleteFromDocument&&t.getSelection().deleteFromDocument();try{var o=t.clipboardData.getData("Text");try{e.doc.selection.createRange().pasteHTML(o)}catch(s){e.doc.getSelection().getRangeAt(0).insertNode(e.doc.createTextNode(o))}e.$c.trigger("tbwchange",i)}catch(a){e.execCmd("insertText",(i.originalEvent||i).clipboardData.getData("text/plain"))}}n.each(e.pasteHandlers,function(e,t){t(i)}),setTimeout(function(){e.semanticCode(!1,!0),e.$c.trigger("tbwpaste",i),e.$c.trigger("tbwchange")},0)}),e.$ta.on("keyup",function(){e.$c.trigger("tbwchange")}).on("paste",function(){setTimeout(function(){e.$c.trigger("tbwchange")},0)}),e.$box.on("keydown",function(t){if(27===t.which&&1===n("."+i+"modal-box",e.$box).length)return e.closeModal(),!1})},autogrowEditorOnEnter:function(){var e=this;e.$ed.removeClass("autogrow-on-enter");var t=e.$ed[0].clientHeight;e.$ed.height("auto");var i=e.$ed[0].scrollHeight;e.$ed.addClass("autogrow-on-enter"),t!==i&&(e.$ed.height(t),setTimeout(function(){e.$ed.css({height:i}),e.$c.trigger("tbwresize")},0))},buildBtnPane:function(){var e=this,t=e.o.prefix,i=e.$btnPane=n("<div/>",{class:t+"button-pane"});n.each(e.o.btns,function(o,s){n.isArray(s)||(s=[s]);var a=n("<div/>",{class:t+"button-group "+(s.indexOf("fullscreen")>=0?t+"right":"")});n.each(s,function(t,i){try{e.isSupportedBtn(i)&&a.append(e.buildBtn(i))}catch(n){}}),a.html().trim().length>0&&i.append(a)}),e.$box.prepend(i)},buildBtn:function(e){var t=this,i=t.o.prefix,o=t.btnsDef[e],s=o.dropdown,a=null==o.hasIcon||o.hasIcon,l=t.lang[e]||e,r=n("<button/>",{type:"button",class:i+e+"-button "+(o.class||"")+(a?"":" "+i+"textual-button"),html:t.hasSvg&&a?'<svg><use xlink:href="'+t.svgPath+"#"+i+(o.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':t.hideButtonTexts?"":o.text||o.title||t.lang[e]||e,title:(o.title||o.text||l)+(o.key?" (Ctrl + "+o.key+")":""),tabindex:-1,mousedown:function(){return s&&!n("."+e+"-"+i+"dropdown",t.$box).is(":hidden")||n("body",t.doc).trigger("mousedown"),!((t.$btnPane.hasClass(i+"disable")||t.$box.hasClass(i+"disabled"))&&!n(this).hasClass(i+"active")&&!n(this).hasClass(i+"not-disable"))&&(t.execCmd((!s?o.fn:"dropdown")||e,o.param||e,o.forceCss),!1)}});if(s){r.addClass(i+"open-dropdown");var c=i+"dropdown",d={class:c+"-"+e+" "+c+" "+i+"fixed-top"};d["data-"+c]=e;var u=n("<div/>",d);n.each(s,function(e,i){t.btnsDef[i]&&t.isSupportedBtn(i)&&u.append(t.buildSubBtn(i))}),t.$box.append(u.hide())}else o.key&&(t.keys[o.key]={fn:o.fn||e,param:o.param||e});return s||(t.tagToButton[(o.tag||e).toLowerCase()]=e),r},buildSubBtn:function(e){var t=this,i=t.o.prefix,o=t.btnsDef[e],s=null==o.hasIcon||o.hasIcon;return o.key&&(t.keys[o.key]={fn:o.fn||e,param:o.param||e}),t.tagToButton[(o.tag||e).toLowerCase()]=e,n("<button/>",{type:"button",class:i+e+"-dropdown-button"+(o.ico?" "+i+o.ico+"-button":""),html:t.hasSvg&&s?'<svg><use xlink:href="'+t.svgPath+"#"+i+(o.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(o.text||o.title||t.lang[e]||e):o.text||o.title||t.lang[e]||e,title:o.key?" (Ctrl + "+o.key+")":null,style:o.style||null,mousedown:function(){return n("body",t.doc).trigger("mousedown"),t.execCmd(o.fn||e,o.param||e,o.forceCss),!1}})},isSupportedBtn:function(e){try{return this.btnsDef[e].isSupported()}catch(t){}return!0},buildOverlay:function(){var e=this;return e.$overlay=n("<div/>",{class:e.o.prefix+"overlay"}).appendTo(e.$box),e.$overlay},showOverlay:function(){var e=this;n(t).trigger("scroll"),e.$overlay.fadeIn(200),e.$box.addClass(e.o.prefix+"box-blur")},hideOverlay:function(){var e=this;e.$overlay.fadeOut(50),e.$box.removeClass(e.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var e=this,i=e.o.fixedFullWidth,o=e.$box;e.o.fixedBtnPane&&(e.isFixed=!1,n(t).on("scroll."+e.eventNamespace+" resize."+e.eventNamespace,function(){if(o){e.syncCode();var s=n(t).scrollTop(),a=o.offset().top+1,l=e.$btnPane,r=l.outerHeight()-2;s-a>0&&s-a-e.height<0?(e.isFixed||(e.isFixed=!0,l.css({position:"fixed",top:0,left:i?"0":"auto",zIndex:7}),n([e.$ta,e.$ed]).css({marginTop:l.height()})),l.css({width:i?"100%":o.width()-1+"px"}),n("."+e.o.prefix+"fixed-top",o).css({position:i?"fixed":"absolute",top:i?r:r+(s-a)+"px",zIndex:15})):e.isFixed&&(e.isFixed=!1,l.removeAttr("style"),n([e.$ta,e.$ed]).css({marginTop:0}),n("."+e.o.prefix+"fixed-top",o).css({position:"absolute",top:r}))}}))},setDisabled:function(e){var t=this,i=t.o.prefix;t.disabled=e,e?t.$ta.attr("disabled",!0):t.$ta.removeAttr("disabled"),t.$box.toggleClass(i+"disabled",e),t.$ed.attr("contenteditable",!e)},destroy:function(){var e=this,i=e.o.prefix;e.isTextarea?e.$box.after(e.$ta.css({height:""}).val(e.html()).removeClass(i+"textarea").show()):e.$box.after(e.$ed.css({height:""}).removeClass(i+"editor").removeAttr("contenteditable").removeAttr("dir").html(e.html()).show()),e.$ed.off("dblclick","img"),e.destroyPlugins(),e.$box.remove(),e.$c.removeData("trumbowyg"),n("body").removeClass(i+"body-fullscreen"),e.$c.trigger("tbwclose"),n(t).off("scroll."+e.eventNamespace+" resize."+e.eventNamespace)},empty:function(){this.$ta.val(""),this.syncCode(!0)},toggle:function(){var e=this,t=e.o.prefix;e.o.autogrowOnEnter&&(e.autogrowOnEnterDontClose=!e.$box.hasClass(t+"editor-hidden")),e.semanticCode(!1,!0),setTimeout(function(){e.doc.activeElement.blur(),e.$box.toggleClass(t+"editor-hidden "+t+"editor-visible"),e.$btnPane.toggleClass(t+"disable"),n("."+t+"viewHTML-button",e.$btnPane).toggleClass(t+"active"),e.$box.hasClass(t+"editor-visible")?e.$ta.attr("tabindex",-1):e.$ta.removeAttr("tabindex"),e.o.autogrowOnEnter&&!e.autogrowOnEnterDontClose&&e.autogrowEditorOnEnter()},0)},dropdown:function(e){var i=this,o=i.doc,s=i.o.prefix,a=n("[data-"+s+"dropdown="+e+"]",i.$box),l=n("."+s+e+"-button",i.$btnPane),r=a.is(":hidden");if(n("body",o).trigger("mousedown"),r){var c=l.offset().left;l.addClass(s+"active"),a.css({position:"absolute",top:l.offset().top-i.$btnPane.offset().top+l.outerHeight(),left:i.o.fixedFullWidth&&i.isFixed?c+"px":c-i.$btnPane.offset().left+"px"}).show(),n(t).trigger("scroll"),n("body",o).on("mousedown."+i.eventNamespace,function(e){a.is(e.target)||(n("."+s+"dropdown",i.$box).hide(),n("."+s+"active",i.$btnPane).removeClass(s+"active"),n("body",o).off("mousedown."+i.eventNamespace))})}},html:function(e){var t=this;return null!=e?(t.$ta.val(e),t.syncCode(!0),t.$c.trigger("tbwchange"),t):t.$ta.val()},syncTextarea:function(){var e=this;e.$ta.val(e.$ed.text().trim().length>0||e.$ed.find(e.o.tagsToKeep.join(",")).length>0?e.$ed.html():"")},syncCode:function(e){var t=this;if(!e&&t.$ed.is(":visible"))t.syncTextarea();else{var i=n("<div>").html(t.$ta.val()),o=n("<div>").append(i);n(t.o.tagsToRemove.join(","),o).remove(),t.$ed.html(o.contents().html())}if(t.o.autogrow&&(t.height=t.$ed.height(),t.height!==t.$ta.css("height")&&(t.$ta.css({height:t.height}),t.$c.trigger("tbwresize"))),t.o.autogrowOnEnter){t.$ed.height("auto");var s=t.autogrowOnEnterWasFocused?t.$ed[0].scrollHeight:t.$ed.css("min-height");s!==t.$ta.css("height")&&(t.$ed.css({height:s}),t.$c.trigger("tbwresize"))}},semanticCode:function(e,t,i){var o=this;if(o.saveRange(),o.syncCode(e),o.o.semantic){if(o.semanticTag("b"),o.semanticTag("i"),o.semanticTag("s"),o.semanticTag("strike"),t){var s=o.o.inlineElementsSelector,a=":not("+s+")";o.$ed.contents().filter(function(){return 3===this.nodeType&&this.nodeValue.trim().length>0}).wrap("<span data-tbw/>");var l=function(e){if(0!==e.length){var t=e.nextUntil(a).addBack().wrapAll("<p/>").parent(),i=t.nextAll(s).first();t.next("br").remove(),l(i)}};l(o.$ed.children(s).first()),o.semanticTag("div",!0),o.$ed.find("p").filter(function(){return(!o.range||this!==o.range.startContainer)&&(0===n(this).text().trim().length&&0===n(this).children().not("br,span").length)}).contents().unwrap(),n("[data-tbw]",o.$ed).contents().unwrap(),o.$ed.find("p:empty").remove()}i||o.restoreRange(),o.syncTextarea()}},semanticTag:function(e,t){var i;if(null!=this.o.semantic&&"object"===typeof this.o.semantic&&this.o.semantic.hasOwnProperty(e))i=this.o.semantic[e];else{if(!0!==this.o.semantic||!this.DEFAULT_SEMANTIC_MAP.hasOwnProperty(e))return;i=this.DEFAULT_SEMANTIC_MAP[e]}n(e,this.$ed).each(function(){var e=n(this);if(0===e.contents().length)return!1;e.wrap("<"+i+"/>"),t&&n.each(e.prop("attributes"),function(){e.parent().attr(this.name,this.value)}),e.contents().unwrap()})},createLink:function(){var e,t,i,o=this,s=o.doc.getSelection(),a=s.focusNode,l=(new XMLSerializer).serializeToString(s.getRangeAt(0).cloneContents());while(["A","DIV"].indexOf(a.nodeName)<0)a=a.parentNode;if(a&&"A"===a.nodeName){var r=n(a);l=r.text(),e=r.attr("href"),o.o.minimalLinks||(t=r.attr("title"),i=r.attr("target"));var c=o.doc.createRange();c.selectNode(a),s.removeAllRanges(),s.addRange(c)}o.saveRange();var d={url:{label:"URL",required:!0,value:e},text:{label:o.lang.text,value:l}};o.o.minimalLinks||Object.assign(d,{title:{label:o.lang.title,value:t},target:{label:o.lang.target,value:i}}),o.openModalInsert(o.lang.createLink,d,function(e){var t=o.prependUrlPrefix(e.url);if(!t.length)return!1;var i=n(['<a href="',t,'">',e.text||e.url,"</a>"].join(""));return o.o.minimalLinks||(e.title.length>0&&i.attr("title",e.title),e.target.length>0&&i.attr("target",e.target)),o.range.deleteContents(),o.range.insertNode(i[0]),o.syncCode(),o.$c.trigger("tbwchange"),!0})},prependUrlPrefix:function(e){var t=this;if(!t.urlPrefix)return e;var i=/^([a-z][-+.a-z0-9]*:|\/|#)/i;if(i.test(e))return e;var n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return n.test(e)?"mailto:"+e:t.urlPrefix+e},unlink:function(){var e=this,t=e.doc.getSelection(),i=t.focusNode;if(t.isCollapsed){while(["A","DIV"].indexOf(i.nodeName)<0)i=i.parentNode;if(i&&"A"===i.nodeName){var n=e.doc.createRange();n.selectNode(i),t.removeAllRanges(),t.addRange(n)}}e.execCmd("unlink",void 0,void 0,!0)},insertImage:function(){var e=this;e.saveRange();var t={url:{label:"URL",required:!0},alt:{label:e.lang.description,value:e.getRangeText()}};e.o.imageWidthModalEdit&&(t.width={}),e.openModalInsert(e.lang.insertImage,t,function(t){e.execCmd("insertImage",t.url,!1,!0);var i=n('img[src="'+t.url+'"]:not([alt])',e.$box);return i.attr("alt",t.alt),e.o.imageWidthModalEdit&&i.attr({width:t.width}),e.syncCode(),e.$c.trigger("tbwchange"),!0})},fullscreen:function(){var e,i=this,o=i.o.prefix,s=o+"fullscreen";i.$box.toggleClass(s),e=i.$box.hasClass(s),n("body").toggleClass(o+"body-fullscreen",e),n(t).trigger("scroll"),i.$c.trigger("tbw"+(e?"open":"close")+"fullscreen")},execCmd:function(e,t,i,n){var o=this;n=!!n||"","dropdown"!==e&&o.$ed.focus();try{o.doc.execCommand("styleWithCSS",!1,i||!1)}catch(s){}try{o[e+n](t)}catch(s){try{e(t)}catch(a){"insertHorizontalRule"===e?t=void 0:"formatBlock"===e&&o.isIE&&(t="<"+t+">"),o.doc.execCommand(e,!1,t),o.syncCode(),o.semanticCode(!1,!0)}"dropdown"!==e&&(o.updateButtonPaneStatus(),o.$c.trigger("tbwchange"))}},openModal:function(e,i){var a=this,l=a.o.prefix;if(n("."+l+"modal-box",a.$box).length>0)return!1;a.o.autogrowOnEnter&&(a.autogrowOnEnterDontClose=!0),a.saveRange(),a.showOverlay(),a.$btnPane.addClass(l+"disable");var r=n("<div/>",{class:l+"modal "+l+"fixed-top"}).css({top:a.$box.offset().top+a.$btnPane.height(),zIndex:99999}).appendTo(n(a.doc.body));a.$overlay.one("click",function(){return r.trigger(s),!1});var c=n("<form/>",{action:"",html:i}).on("submit",function(){return r.trigger(o),!1}).on("reset",function(){return r.trigger(s),!1}).on("submit reset",function(){a.o.autogrowOnEnter&&(a.autogrowOnEnterDontClose=!1)}),d=n("<div/>",{class:l+"modal-box",html:c}).css({top:"-"+a.$btnPane.outerHeight()+"px",opacity:0}).appendTo(r).animate({top:0,opacity:1},100);return n("<span/>",{text:e,class:l+"modal-title"}).prependTo(d),r.height(d.outerHeight()+10),n("input:first",d).focus(),a.buildModalBtn("submit",d),a.buildModalBtn("reset",d),n(t).trigger("scroll"),r},buildModalBtn:function(e,t){var i=this,o=i.o.prefix;return n("<button/>",{class:o+"modal-button "+o+"modal-"+e,type:e,text:i.lang[e]||e}).appendTo(n("form",t))},closeModal:function(){var e=this,t=e.o.prefix;e.$btnPane.removeClass(t+"disable"),e.$overlay.off();var o=n("."+t+"modal-box",n(i.body));o.animate({top:"-"+o.height()},100,function(){o.parent().remove(),e.hideOverlay()}),e.restoreRange()},openModalInsert:function(e,t,i){var a=this,l=a.o.prefix,r=a.lang,c="";return n.each(t,function(e,t){var i=t.label||e,n=t.name||e,o=t.attributes||{},s=Object.keys(o).map(function(e){return e+'="'+o[e]+'"'}).join(" ");c+='<label><input type="'+(t.type||"text")+'" name="'+n+'"'+("checkbox"===t.type&&t.value?' checked="checked"':' value="'+(t.value||"").replace(/"/g,"&quot;"))+'"'+s+'><span class="'+l+'input-infos"><span>'+(r[i]?r[i]:i)+"</span></span></label>"}),a.openModal(e,c).on(o,function(){var e=n("form",n(this)),s=!0,l={};n.each(t,function(t,i){var o=i.name||t,r=n('input[name="'+o+'"]',e),c=r.attr("type");switch(c.toLowerCase()){case"checkbox":l[o]=r.is(":checked");break;case"radio":l[o]=r.filter(":checked").val();break;default:l[o]=n.trim(r.val());break}i.required&&""===l[o]?(s=!1,a.addErrorOnModalField(r,a.lang.required)):i.pattern&&!i.pattern.test(l[o])&&(s=!1,a.addErrorOnModalField(r,i.patternError))}),s&&(a.restoreRange(),i(l,t)&&(a.syncCode(),a.$c.trigger("tbwchange"),a.closeModal(),n(this).off(o)))}).one(s,function(){n(this).off(o),a.closeModal()})},addErrorOnModalField:function(e,t){var i=this.o.prefix,o=e.parent();e.on("change keyup",function(){o.removeClass(i+"input-error")}),o.addClass(i+"input-error").find("input+span").append(n("<span/>",{class:i+"msg-error",text:t}))},getDefaultImgDblClickHandler:function(){var e=this;return function(){var t=n(this),i=t.attr("src"),o="(Base64)";0===i.indexOf("data:image")&&(i=o);var s={url:{label:"URL",value:i,required:!0},alt:{label:e.lang.description,value:t.attr("alt")}};return e.o.imageWidthModalEdit&&(s.width={value:t.attr("width")?t.attr("width"):""}),e.openModalInsert(e.lang.insertImage,s,function(i){return i.url!==o&&t.attr({src:i.url}),t.attr({alt:i.alt}),e.o.imageWidthModalEdit&&(parseInt(i.width)>0?t.attr({width:i.width}):t.removeAttr("width")),!0}),!1}},saveRange:function(){var e=this,t=e.doc.getSelection();if(e.range=null,t&&t.rangeCount){var i,n=e.range=t.getRangeAt(0),o=e.doc.createRange();o.selectNodeContents(e.$ed[0]),o.setEnd(n.startContainer,n.startOffset),i=(o+"").length,e.metaRange={start:i,end:i+(n+"").length}}},restoreRange:function(){var e,t=this,i=t.metaRange,n=t.range,o=t.doc.getSelection();if(n){if(i&&i.start!==i.end){var s,a=0,l=[t.$ed[0]],r=!1,c=!1;e=t.doc.createRange();while(!c&&(s=l.pop()))if(3===s.nodeType){var d=a+s.length;!r&&i.start>=a&&i.start<=d&&(e.setStart(s,i.start-a),r=!0),r&&i.end>=a&&i.end<=d&&(e.setEnd(s,i.end-a),c=!0),a=d}else{var u=s.childNodes,h=u.length;while(h>0)h-=1,l.push(u[h])}}o.removeAllRanges(),o.addRange(e||n)}},getRangeText:function(){return this.range+""},updateButtonPaneStatus:function(){var e=this,t=e.o.prefix,i=e.getTagsRecursive(e.doc.getSelection().focusNode),o=t+"active-button "+t+"active";n("."+t+"active-button",e.$btnPane).removeClass(o),n.each(i,function(i,s){var a=e.tagToButton[s.toLowerCase()],l=n("."+t+a+"-button",e.$btnPane);if(l.length>0)l.addClass(o);else try{l=n("."+t+"dropdown ."+t+a+"-dropdown-button",e.$box);var r=l.parent().data("dropdown");n("."+t+r+"-button",e.$box).addClass(o)}catch(c){}})},getTagsRecursive:function(e,t){var i=this;if(t=t||(e&&e.tagName?[e.tagName]:[]),!e||!e.parentNode)return t;e=e.parentNode;var o=e.tagName;return"DIV"===o?t:("P"===o&&""!==e.style.textAlign&&t.push(e.style.textAlign),n.each(i.tagHandlers,function(n,o){t=t.concat(o(e,i))}),t.push(o),i.getTagsRecursive(e,t).filter(function(e){return null!=e}))},initPlugins:function(){var e=this;e.loadedPlugins=[],n.each(n.trumbowyg.plugins,function(t,i){i.shouldInit&&!i.shouldInit(e)||(i.init(e),i.tagHandler&&e.tagHandlers.push(i.tagHandler),e.loadedPlugins.push(i))})},destroyPlugins:function(){n.each(this.loadedPlugins,function(e,t){t.destroy&&t.destroy()})}}}(navigator,window,document,e)}).call(this,i("1157"))},a7b1:function(e,t,i){"use strict";var n=i("5176"),o=i.n(n);t["a"]={methods:{update:function(e){this.$emit("input",e),this.$emit("change",e)}},computed:{enabled:{get:function(){return this.value.enabled},set:function(e){var t=o()(this.value,{enabled:e});this.update(t)}}}}},bc75:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("field-editor",{attrs:{options:e.options,showEditor:e.showEditor},on:{toggleShowEditor:e.toggleEditor,cancel:e.cancel,resetvalue:e.resetValue,change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[i("template",{slot:"preview"},[null===e.value.text||""===e.value.text?i("span",{staticClass:"dvs-italic"},[e._v("Currently No Value")]):e._e(),i("div",{domProps:{innerHTML:e._s(e.clipString(e.value.text,200,!1))}})]),i("template",{slot:"editor"},[i("div",{directives:[{name:"bar",rawName:"v-bar"}],staticStyle:{"max-height":"80vh"}},[i("wysiwyg",{ref:"editor",model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)])],2)],1)},o=[],s=i("5176"),a=i.n(s),l=i("29ec"),r=i("a7b1"),c={name:"WysiwygEditor",data:function(){return{localValue:{},originalValue:null,showEditor:!1}},mounted:function(){this.originalValue=a()({},this.value),this.localValue=this.value},methods:{toggleEditor:function(){this.showEditor=!this.showEditor},cancel:function(){this.text=this.originalValue.text,this.enabled=this.originalValue.enabled,this.toggleEditor()},resetValue:function(){this.enabled=!1,this.$refs.editor.empty()}},computed:{text:{get:function(){return this.value.text},set:function(e){var t=a()(this.value,{text:e});this.$emit("input",t),this.$emit("change",t)}}},props:["value","options","namekey"],mixins:[l["a"],r["a"]],components:{FieldEditor:function(){return Promise.resolve().then(i.bind(null,"41b8"))},Wysiwyg:function(){return Promise.all([i.e("devise-editors~devise-utilities"),i.e("devise-utilities")]).then(i.bind(null,"2969"))}}},d=c,u=i("0c7c"),h=Object(u["a"])(d,n,o,!1,null,null,null);t["default"]=h.exports},e803:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("field-editor",{attrs:{options:e.options,showEditor:e.showEditor},on:{toggleShowEditor:e.toggleEditor,cancel:e.cancel,resetvalue:e.resetValue,change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[i("template",{slot:"preview"},[null===e.value.value||""===e.value.value?i("span",{staticClass:"dvs-italic"},[e._v("Currently No Value")]):e._e(),i("div",[e._v(e._s()+")")])]),i("template",{slot:"editor"},[i("fieldset",{staticClass:"dvs-fieldset"},[e._v("\n      "+e._s(e.selectValue)+"\n      "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.selectValue,expression:"selectValue"}],ref:"focusInput",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selectValue=t.target.multiple?i:i[0]}}},[e.options.allowNull?i("option",{domProps:{value:null}},[e._v("No Selection")]):e._e(),e._l(e.options.options,function(t,n){return i("option",{key:n,domProps:{value:n}},[e._v(e._s(t))])})],2)])])],2)},o=[],s=i("5176"),a=i.n(s),l=i("29ec"),r=i("a7b1"),c={name:"SelectEditor",data:function(){return{localValue:{label:null,value:null},originalValue:null,showEditor:!1}},mounted:function(){this.originalValue=a()({},this.value),this.localValue=this.value},methods:{toggleEditor:function(){this.showEditor=!this.showEditor,this.focusForm()},focusForm:function(){var e=this;this.showEditor&&this.$nextTick(function(){setTimeout(function(){e.$refs.focusInput.focus()},200)})},cancel:function(){this.selectValue=this.originalValue.value,this.label=this.originalValue.label,this.enabled=this.originalValue.enabled,this.toggleEditor()},resetValue:function(){this.enabled=!1,this.label=null,this.selectValue=null}},computed:{label:{get:function(){return null!==this.selectValue?this.options.options[this.selectValue]:"Select"},set:function(e){var t=a()(this.value,{text:e});this.$emit("input",t),this.$emit("change",t)}},selectValue:{get:function(){return""!==this.value.value&&this.value.value?this.value.value:null},set:function(e){var t=a()(this.value,{value:e});this.$emit("input",t),this.$emit("change",t)}}},props:["value","options"],mixins:[l["a"],r["a"]],components:{FieldEditor:function(){return Promise.resolve().then(i.bind(null,"41b8"))}}},d=c,u=i("0c7c"),h=Object(u["a"])(d,n,o,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=devise-editors.js.map