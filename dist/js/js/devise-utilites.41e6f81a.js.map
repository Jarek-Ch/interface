{"version":3,"sources":["webpack:///./src/components/utilities/QueryBuilder.vue?1366","webpack:///src/components/utilities/QueryBuilder.vue","webpack:///./src/components/utilities/QueryBuilder.vue?4b35","webpack:///./src/components/utilities/QueryBuilder.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","model","_e","staticClass","_v","storeModels","length","directives","name","rawName","value","expression","on","change","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","multiple","updateModelQueryModel","domProps","_l","key","id","_s","attrs","editData","columns","showLinks","input","update","callback","$$v","modelQuery","style","theme","click","save","staticRenderFns","QueryBuildervue_type_script_lang_js_","data","firstRecord","limit","paginated","filters","mounted","self","getModels","then","find","class","methods","Object","objectSpread","vuex_esm","$emit","$nextTick","computed","components","SuperTable","__webpack_require__","e","bind","props","utilities_QueryBuildervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/js/devise-utilites.41e6f81a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[(!_vm.model)?_c('help',{staticClass:\"dvs-mb-8\"},[_vm._v(\"The models below are loaded by Devise by scanning your Laravel application directory for anything that extends the Model class. Ensure it does this for it to appear below.\")]):_vm._e(),(_vm.storeModels.length > 0)?_c('fieldset',{staticClass:\"dvs-fieldset dvs-mb-4\"},[_c('label',[_vm._v(\"Select a Model\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.model),expression:\"model\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.model=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.updateModelQueryModel()}]}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"Select a Model\")]),_vm._l((_vm.storeModels),function(model){return _c('option',{key:model.id,domProps:{\"value\":model}},[_vm._v(_vm._s(model.name))])})],2)]):_vm._e()],1),(_vm.model)?_c('div',{staticClass:\"dvs-relative dvs-mb-8\"},[_c('super-table',{attrs:{\"model\":_vm.model,\"editData\":_vm.editData,\"columns\":_vm.model.columns,\"showLinks\":false},on:{\"input\":_vm.update},model:{value:(_vm.modelQuery),callback:function ($$v) {_vm.modelQuery=$$v},expression:\"modelQuery\"}})],1):_vm._e(),_c('button',{staticClass:\"dvs-btn\",style:(_vm.theme.actionButton),on:{\"click\":_vm.save}},[_vm._v(\"Save\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div>\n      <help\n        class=\"dvs-mb-8\"\n        v-if=\"!model\"\n      >The models below are loaded by Devise by scanning your Laravel application directory for anything that extends the Model class. Ensure it does this for it to appear below.</help>\n      <fieldset class=\"dvs-fieldset dvs-mb-4\" v-if=\"storeModels.length > 0\">\n        <label>Select a Model</label>\n        <select v-model=\"model\" @change=\"updateModelQueryModel()\">\n          <option :value=\"null\">Select a Model</option>\n          <option :value=\"model\" v-for=\"model in storeModels\" :key=\"model.id\">{{ model.name }}</option>\n        </select>\n      </fieldset>\n    </div>\n    <div v-if=\"model\" class=\"dvs-relative dvs-mb-8\">\n      <super-table\n        v-model=\"modelQuery\"\n        :model=\"model\"\n        :editData=\"editData\"\n        :columns=\"model.columns\"\n        :showLinks=\"false\"\n        @input=\"update\"\n      />\n    </div>\n\n\n    <button @click=\"save\" class=\"dvs-btn\" :style=\"theme.actionButton\">Save</button>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      firstRecord: false,\n      limit: 20,\n      paginated: false,\n      model: null,\n      modelQuery: null,\n      name: null,\n      filters: {},\n    };\n  },\n  mounted() {\n    const self = this;\n\n    if (typeof this.editData === 'undefined') {\n      this.model = this.value.model;\n      this.name = this.value.name;\n      this.modelQuery = this.value.modelQuery;\n    }\n\n    this.getModels().then(() => {\n      if (typeof self.editData !== 'undefined') {\n        self.model = self.storeModels.find(\n          model => model.class === self.editData.filters.class,\n        );\n        self.name = self.editData.key;\n        self.modelQuery = self.editData.filters.class;\n        self.filters = self.editData.filters;\n      }\n    });\n  },\n  methods: {\n    ...mapActions('devise', ['getModels', 'getModelSettings']),\n    save() {\n      this.update();\n      this.$emit('save');\n    },\n    update() {\n      this.$emit('input', {\n        model: this.model,\n        name: this.name,\n        modelQuery: this.modelQuery,\n      });\n    },\n    updateModelQueryModel() {\n      const self = this;\n      if (this.model !== null) {\n        this.modelQuery = this.model.class;\n      }\n      if (this.model === null) {\n        this.modelQuery = null;\n      }\n      this.$nextTick(() => {\n        self.update();\n      });\n    },\n  },\n  computed: {\n    ...mapGetters('devise', ['storeModels', 'modelSettings']),\n  },\n  components: {\n    SuperTable: () => import(/* webpackChunkName: \"js/devise-tables\" */ './tables/SuperTable'),\n  },\n  props: ['value', 'editData'],\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryBuilder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryBuilder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QueryBuilder.vue?vue&type=template&id=4fcbb9c3&\"\nimport script from \"./QueryBuilder.vue?vue&type=script&lang=js&\"\nexport * from \"./QueryBuilder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}